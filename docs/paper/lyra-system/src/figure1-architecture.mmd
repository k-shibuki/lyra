%%{init: {'theme': 'neutral'}}%%
flowchart TB
    subgraph Host["Host (WSL2/Linux)"]
        MCP["MCP Client<br/>(AI Assistant)"]
        Server["MCP Server"]
        Graph["Evidence Graph<br/>(SQLite)"]
        Chrome["Chrome"]
    end

    subgraph Containers["Containers (Podman)"]
        Ollama["Ollama<br/>(LLM)"]
        ML["ML<br/>(Embed/NLI)"]
        Tor["Tor Proxy"]
    end

    Internet((Internet))
    Academic["Academic APIs<br/>(S2, OpenAlex)"]

    MCP <-->|stdio| Server
    Server --> Chrome
    Server --> Academic
    Chrome --> Internet
    Academic --> Internet
    Server <--> Ollama
    Server <--> ML
    Chrome -.->|optional| Tor
    Tor --> Internet
    Server <--> Graph

