%%{init: {'theme': 'neutral'}}%%
flowchart LR
    subgraph WORKING["Working Layer"]
        direction TB
        Lyra["Lyra<br/>(MCP Server)"]
        W["Search → Extract → NLI → Store"]
    end

    subgraph REASONING["Reasoning Layer"]
        direction TB
        MCP["MCP Client<br/>(Cursor / Claude)"]
        R["Plan → Decide → Synthesize"]
    end

    subgraph THINKING["Thinking Layer"]
        direction TB
        Human["Human<br/>(Researcher)"]
        T["Evaluate → Interpret → Conclude"]
    end

    Lyra -->|"Metrics<br/>Evidence"| MCP
    MCP -->|"Queries<br/>Commands"| Lyra
    MCP -->|"Structured<br/>Sources"| Human
    Human -->|"Direction<br/>Feedback"| MCP

