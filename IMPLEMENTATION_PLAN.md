# å®Ÿè£…è¨ˆç”»: Local Autonomous Deep Research Agent (Lancet)

## æ¦‚è¦
OSINTãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒªã‚µãƒ¼ãƒã‚’è‡ªå¾‹çš„ã«å®Ÿè¡Œã™ã‚‹ãƒ­ãƒ¼ã‚«ãƒ«AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å®Ÿè£…è¨ˆç”»ã€‚
**Podmanã‚³ãƒ³ãƒ†ãƒŠç’°å¢ƒ**ã§ç¨¼åƒã—ã€MCPã‚’é€šã˜ã¦Cursorã¨é€£æºã™ã‚‹ã€‚

---

## Phase 1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŸºç›¤æ§‹ç¯‰ âœ…

### 1.1 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€  âœ…
- [x] ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã®ä½œæˆ
  - [x] `src/` - ãƒ¡ã‚¤ãƒ³ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
  - [x] `src/mcp/` - MCPã‚µãƒ¼ãƒãƒ¼å®Ÿè£…
  - [x] `src/search/` - æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³é€£æº
  - [x] `src/crawler/` - ã‚¯ãƒ­ãƒ¼ãƒªãƒ³ã‚°/å–å¾—æ©Ÿèƒ½
  - [x] `src/extractor/` - ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æŠ½å‡º
  - [x] `src/filter/` - ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°/è©•ä¾¡
  - [x] `src/report/` - ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
  - [x] `src/scheduler/` - ã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©
  - [x] `src/storage/` - ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
  - [x] `src/utils/` - ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
  - [x] `config/` - è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
  - [x] `data/` - ãƒ‡ãƒ¼ã‚¿ä¿å­˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
  - [x] `logs/` - ãƒ­ã‚°ä¿å­˜
  - [x] `tests/` - ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰

### 1.2 ä¾å­˜é–¢ä¿‚è¨­å®š âœ…
- [x] `requirements.txt` ã®ä½œæˆ
- [x] `pyproject.toml` ã®ä½œæˆ
- [x] Dockerfile / Dockerfile.dev ã®ä½œæˆ
- [x] podman-compose.yml ã®ä½œæˆ

### 1.3 è¨­å®šç®¡ç† âœ…
- [x] `config/settings.yaml` - åŸºæœ¬è¨­å®š
- [x] `config/engines.yaml` - æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³è¨­å®š
- [x] `config/domains.yaml` - ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒãƒªã‚·ãƒ¼åˆæœŸå€¤
- [x] `config/searxng/settings.yml` - SearXNGè¨­å®š
- [x] ç’°å¢ƒå¤‰æ•°ç®¡ç†ï¼ˆpodman-compose.ymlå†…ï¼‰

### 1.4 ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ âœ…
- [x] SQLiteã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆ (`src/storage/schema.sql`)
  - [x] `tasks` ãƒ†ãƒ¼ãƒ–ãƒ«
  - [x] `queries` ãƒ†ãƒ¼ãƒ–ãƒ«
  - [x] `serp_items` ãƒ†ãƒ¼ãƒ–ãƒ«
  - [x] `pages` ãƒ†ãƒ¼ãƒ–ãƒ«
  - [x] `fragments` ãƒ†ãƒ¼ãƒ–ãƒ«
    - [x] `heading_context`: ç›´è¿‘ã®è¦‹å‡ºã—ï¼ˆå˜ä¸€æ–‡å­—åˆ—ï¼‰
    - [x] `heading_hierarchy`: è¦‹å‡ºã—éšå±¤ï¼ˆJSONé…åˆ—ï¼‰
    - [x] `element_index`: è¦‹å‡ºã—é…ä¸‹ã§ã®è¦ç´ é †åº
    - [x] `fragment_type`: è¦ç´ ç¨®åˆ¥ï¼ˆparagraph/heading/list/table/quote/figure/codeï¼‰
  - [x] `claims` ãƒ†ãƒ¼ãƒ–ãƒ«
  - [x] `edges` ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ã‚°ãƒ©ãƒ•ï¼‰
  - [x] `domains` ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³ãƒãƒªã‚·ãƒ¼ï¼‰
  - [x] `engine_health` ãƒ†ãƒ¼ãƒ–ãƒ«
  - [x] `jobs` ãƒ†ãƒ¼ãƒ–ãƒ«
  - [x] `cache_serp` ãƒ†ãƒ¼ãƒ–ãƒ«
  - [x] `cache_fetch` ãƒ†ãƒ¼ãƒ–ãƒ«
  - [x] `cache_embed` ãƒ†ãƒ¼ãƒ–ãƒ«
  - [x] `event_log` ãƒ†ãƒ¼ãƒ–ãƒ«
  - [x] `intervention_log` ãƒ†ãƒ¼ãƒ–ãƒ«
- [x] FTS5å…¨æ–‡æ¤œç´¢è¨­å®š

### 1.5 ãƒ­ã‚®ãƒ³ã‚°åŸºç›¤ âœ…
- [x] æ§‹é€ åŒ–ãƒ­ã‚°ï¼ˆJSONï¼‰è¨­å®š - structlog
- [x] å› æœãƒˆãƒ¬ãƒ¼ã‚¹ï¼ˆcause_idï¼‰ã®å®Ÿè£…
- [x] LogContext / CausalTrace ãƒ˜ãƒ«ãƒ‘ãƒ¼

---

## Phase 2: MCPã‚µãƒ¼ãƒãƒ¼å®Ÿè£… âœ…

### 2.1 MCPã‚µãƒ¼ãƒãƒ¼åŸºç›¤ âœ…
- [x] MCPãƒ—ãƒ­ãƒˆã‚³ãƒ«å®Ÿè£… (`src/mcp/server.py`)
- [x] ãƒ„ãƒ¼ãƒ«ç™»éŒ²æ©Ÿæ§‹

### 2.2 MCPãƒ„ãƒ¼ãƒ«å®Ÿè£… âœ…
- [x] `search_serp` - æ¤œç´¢å®Ÿè¡Œ
- [x] `fetch_url` - URLå–å¾—
- [x] `extract_content` - ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æŠ½å‡º
- [x] `rank_candidates` - ãƒ‘ãƒƒã‚»ãƒ¼ã‚¸ãƒ©ãƒ³ã‚­ãƒ³ã‚°
- [x] `llm_extract` - LLMæŠ½å‡º
- [x] `nli_judge` - NLIåˆ¤å®š
- [x] `notify_user` - ãƒ¦ãƒ¼ã‚¶ãƒ¼é€šçŸ¥
- [x] `schedule_job` - ã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
- [x] `create_task` - ã‚¿ã‚¹ã‚¯ä½œæˆ
- [x] `get_task_status` - ã‚¿ã‚¹ã‚¯çŠ¶æ…‹å–å¾—
- [x] `get_report_materials` - ãƒ¬ãƒãƒ¼ãƒˆç´ ææä¾›ï¼ˆÂ§2.1è²¬ä»»åˆ†ç•Œï¼‰
- [x] `get_evidence_graph` - ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ã‚°ãƒ©ãƒ•ç›´æ¥å‚ç…§ï¼ˆÂ§3.2.1ï¼‰

### 2.3 ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° âœ…
- [x] ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆç®¡ç†
- [x] ã‚¨ãƒ©ãƒ¼å¿œç­”ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

---

## Phase 3: æ¤œç´¢æ©Ÿèƒ½å®Ÿè£… âœ…

### 3.1 SearXNGé€£æº âœ…
- [x] SearXNG Podmanã‚³ãƒ³ãƒ†ãƒŠè¨­å®š
- [x] SearXNGè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆsettings.ymlï¼‰
- [x] HTTP APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå®Ÿè£…
- [x] ãƒ¬ãƒ¼ãƒˆåˆ¶é™

### 3.2 æ¤œç´¢ã‚¯ã‚¨ãƒªç®¡ç† âœ…
- [x] åŸºæœ¬ã‚¯ã‚¨ãƒªå®Ÿè¡Œ
- [x] SERPçµæœæ­£è¦åŒ–
- [x] ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½
- [x] ã‚¯ã‚¨ãƒªå¤šæ§˜åŒ–ï¼ˆåŒç¾©èªå±•é–‹ï¼‰- SudachiPyçµ±åˆ
- [x] æ¼”ç®—å­ãƒãƒƒãƒ”ãƒ³ã‚°ï¼ˆsite:, filetype:, intitle:, exact, exclude, date_after, requiredï¼‰
- [x] è¨€èªæ¨ªæ–­ãƒŸãƒ©ãƒ¼ã‚¯ã‚¨ãƒªï¼ˆOllamaç¿»è¨³é€£æº, Â§3.1.1ï¼‰

### 3.3 ã‚¨ãƒ³ã‚¸ãƒ³ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ âœ…
- [x] åŸºæœ¬ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†
- [x] ã‚µãƒ¼ã‚­ãƒƒãƒˆãƒ–ãƒ¬ãƒ¼ã‚«å®Œå…¨å®Ÿè£…
- [x] EMAæ›´æ–°ãƒ­ã‚¸ãƒƒã‚¯

---

## Phase 4: ã‚¯ãƒ­ãƒ¼ãƒªãƒ³ã‚°/å–å¾—æ©Ÿèƒ½ âœ…

### 4.1 HTTPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ âœ…
- [x] curl_cffiå®Ÿè£…
- [x] ãƒ˜ãƒƒãƒ€ãƒ¼æ•´åˆ
- [x] ETag/If-Modified-Sinceå®Œå…¨å¯¾å¿œ

### 4.2 ãƒ–ãƒ©ã‚¦ã‚¶è‡ªå‹•åŒ– âœ…
- [x] Playwright CDPæ¥ç¶šåŸºç›¤
- [x] ãƒªã‚½ãƒ¼ã‚¹ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°
- [x] ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹/ãƒ˜ãƒƒãƒ‰ãƒ•ãƒ«è‡ªå‹•åˆ‡æ›¿
- [x] ãƒ’ãƒ¥ãƒ¼ãƒãƒ³ãƒ©ã‚¤ã‚¯æ“ä½œ

### 4.3 ãƒ—ãƒªãƒ•ãƒ©ã‚¤ãƒˆåˆ¤å®š âœ…
- [x] ãƒãƒ£ãƒ¬ãƒ³ã‚¸æ¤œçŸ¥
- [x] åˆ†å²ãƒ­ã‚¸ãƒƒã‚¯

### 4.4 ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ¶å¾¡ âœ…
- [x] ãƒ¬ãƒ¼ãƒˆåˆ¶é™
- [x] Toré€£æºï¼ˆStemï¼‰å®Œå…¨å®Ÿè£…

### 4.5 ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ä¿å­˜ âœ…
- [x] WARCä¿å­˜ - warcioçµ±åˆ
- [x] ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆä¿å­˜

---

## Phase 5: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æŠ½å‡º âœ…

### 5.1 HTMLæŠ½å‡º âœ…
- [x] trafilaturaçµ±åˆ
- [x] ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æŠ½å‡ºå™¨
- [x] ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æŠ½å‡º

### 5.2 PDFæŠ½å‡º âœ…
- [x] PyMuPDFçµ±åˆ
- [x] OCRé€£æº (PaddleOCR + Tesseract ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯)

### 5.3 é‡è¤‡æ¤œå‡º âœ…
- [x] MinHashå®Ÿè£… - datasketchçµ±åˆã€LSHã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
- [x] SimHashå®Ÿè£… - ãƒãƒŸãƒ³ã‚°è·é›¢ãƒ™ãƒ¼ã‚¹ã®é¡ä¼¼åº¦æ¤œå‡º
- [x] HybridDeduplicator - MinHash+SimHashçµ„ã¿åˆã‚ã›

---

## Phase 6: ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã¨è©•ä¾¡ âœ…

### 6.1 å¤šæ®µè©•ä¾¡ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ âœ…
- [x] BM25ãƒ©ãƒ³ã‚­ãƒ³ã‚°
- [x] åŸ‹ã‚è¾¼ã¿é¡ä¼¼åº¦
- [x] ãƒªãƒ©ãƒ³ã‚­ãƒ³ã‚°

### 6.2 ãƒ­ãƒ¼ã‚«ãƒ«LLMé€£æº âœ…
- [x] Ollamaçµ±åˆ
- [x] äºŒæ®µLLMã‚²ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### 6.3 NLI âœ…
- [x] tiny-DeBERTaå®Ÿè£…
- [x] supports/refutes/neutralåˆ¤å®š

### 6.4 ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ã‚°ãƒ©ãƒ• âœ…
- [x] NetworkXã‚°ãƒ©ãƒ•æ§‹ç¯‰
- [x] SQLiteæ°¸ç¶šåŒ–
- [x] å¼•ç”¨ãƒ«ãƒ¼ãƒ—æ¤œå‡º
- [x] ãƒ©ã‚¦ãƒ³ãƒ‰ãƒˆãƒªãƒƒãƒ—æ¤œå‡º
- [x] ã‚»ãƒ«ãƒ•ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹æ¤œå‡º
- [x] å¼•ç”¨ãƒšãƒŠãƒ«ãƒ†ã‚£è¨ˆç®—
- [x] ä¸€æ¬¡è³‡æ–™æ¯”ç‡ç®—å‡º

---

## Phase 7: ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©å®Ÿè£… âœ…

### 7.1 ã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ© âœ…
- [x] ã‚¸ãƒ§ãƒ–ã‚­ãƒ¥ãƒ¼å®Ÿè£…
- [x] å„ªå…ˆåº¦ç®¡ç†

### 7.2 ã‚¹ãƒ­ãƒƒãƒˆ/æ’ä»–åˆ¶å¾¡ âœ…
- [x] ã‚¹ãƒ­ãƒƒãƒˆå®šç¾©
- [x] æ’ä»–ãƒ«ãƒ¼ãƒ«

### 7.3 äºˆç®—åˆ¶å¾¡ âœ…
- [x] ã‚¿ã‚¹ã‚¯ç·ãƒšãƒ¼ã‚¸æ•°ä¸Šé™ (â‰¤120/task, Â§3.1)
- [x] æ™‚é–“ä¸Šé™ (â‰¤20min GPU / â‰¤25min CPU, Â§3.1)
- [x] LLMå‡¦ç†æ™‚é–“æ¯”ç‡åˆ¶å¾¡ (â‰¤30%, Â§3.1)
- [x] BudgetManager / TaskBudget ã‚¯ãƒ©ã‚¹
- [x] JobScheduler ã¸ã®çµ±åˆ

---

## Phase 8: é€šçŸ¥/æ‰‹å‹•ä»‹å…¥ âœ…

### 8.1 é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ  âœ…
- [x] Windowsãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥
- [x] Linux notify-sendå¯¾å¿œ
- [x] WSLâ†’Windowsé€šçŸ¥æ©‹æ¸¡ã—

### 8.2 æ‰‹å‹•ä»‹å…¥ãƒ•ãƒ­ãƒ¼ã€Â§3.6.2å»ƒæ­¢â†’Â§3.6.1ã«çµ±åˆã€‘ âœ…
- [x] åŸºæœ¬ãƒ•ãƒ­ãƒ¼å®Ÿè£…
- [x] ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å‰é¢åŒ–ï¼ˆCDP Page.bringToFront + OS API ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰
- [x] ~~ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå‡¦ç†~~ â†’ **å»ƒæ­¢**ï¼ˆÂ§3.6.1: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸»å°ã®å®Œäº†å ±å‘Šã®ã¿ï¼‰
- [x] ~~è¦ç´ ãƒã‚¤ãƒ©ã‚¤ãƒˆ~~ â†’ **å»ƒæ­¢**ï¼ˆÂ§3.6.1: DOMæ“ä½œç¦æ­¢ï¼‰
- [x] ãƒ‰ãƒ¡ã‚¤ãƒ³é€£ç¶šå¤±æ•—è¿½è·¡ï¼ˆ3å›å¤±æ•—ã§å½“æ—¥ã‚¹ã‚­ãƒƒãƒ—ã€Â§3.1æº–æ‹ ï¼‰
- [x] ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³é©ç”¨ï¼ˆæ˜ç¤ºçš„å¤±æ•—æ™‚â‰¥60åˆ†ã€Â§3.5æº–æ‹ ï¼‰
- [x] fetcher.pyã¸ã®çµ±åˆï¼ˆchallengeæ¤œçŸ¥â†’èªè¨¼ã‚­ãƒ¥ãƒ¼ã¸ã‚¨ãƒ³ã‚­ãƒ¥ãƒ¼ï¼‰
- [x] ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã‚¿ã‚¤ãƒ—æ¤œå‡ºï¼ˆCloudflare/CAPTCHA/Turnstile/hCaptchaç­‰ï¼‰
- [x] **Â§3.6.1å®‰å…¨é‹ç”¨æ–¹é‡é©ç”¨**
  - CDPè¨±å¯: `Page.bringToFront` ã®ã¿
  - CDPç¦æ­¢: `Runtime.evaluate`, `DOM.*`, `Input.*`, `Emulation.*`
  - å®Œäº†æ¤œçŸ¥: `complete_authentication` ã«ã‚ˆã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼æ˜ç¤ºå ±å‘Š

### 8.3 èªè¨¼å¾…ã¡ã‚­ãƒ¥ãƒ¼ï¼ˆÂ§3.6.1 æ¨å¥¨æ–¹å¼ï¼‰ âœ…
- [x] `intervention_queue` ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆèªè¨¼å¾…ã¡ã‚­ãƒ¥ãƒ¼ï¼‰
- [x] `InterventionQueue` ã‚¯ãƒ©ã‚¹
  - [x] `enqueue()`: èªè¨¼å¾…ã¡ã‚’ã‚­ãƒ¥ãƒ¼ã«ç©ã‚€
  - [x] `get_pending()`: èªè¨¼å¾…ã¡ä¸€è¦§ã‚’å–å¾—
  - [x] `get_pending_by_domain()`: ãƒ‰ãƒ¡ã‚¤ãƒ³åˆ¥ã«ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ãŸèªè¨¼å¾…ã¡ã‚’å–å¾—
  - [x] `start_session()`: èªè¨¼ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’é–‹å§‹ï¼ˆURLè¿”å´ã®ã¿ã€DOMæ“ä½œãªã—ï¼‰
  - [x] `complete()`: èªè¨¼å®Œäº†ã‚’è¨˜éŒ²ï¼ˆå˜ä¸€ã‚­ãƒ¥ãƒ¼ã‚¢ã‚¤ãƒ†ãƒ ï¼‰
  - [x] `complete_domain()`: ãƒ‰ãƒ¡ã‚¤ãƒ³å˜ä½ã§èªè¨¼ã‚’ä¸€æ‹¬å®Œäº†
  - [x] `skip()`: èªè¨¼ã‚’ã‚¹ã‚­ãƒƒãƒ—ï¼ˆã‚­ãƒ¥ãƒ¼IDæŒ‡å®šã¾ãŸã¯ãƒ‰ãƒ¡ã‚¤ãƒ³æŒ‡å®šï¼‰
  - [x] `get_session_for_domain()`: èªè¨¼æ¸ˆã¿ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’å–å¾—
- [x] MCPãƒ„ãƒ¼ãƒ«
  - [x] `get_pending_authentications`: èªè¨¼å¾…ã¡ã‚­ãƒ¥ãƒ¼ã‚’å–å¾—
  - [x] `get_pending_by_domain`: ãƒ‰ãƒ¡ã‚¤ãƒ³åˆ¥ã«ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ãŸèªè¨¼å¾…ã¡ã‚’å–å¾—
  - [x] `start_authentication_session`: èªè¨¼ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’é–‹å§‹ï¼ˆURLé–‹ã+å‰é¢åŒ–ã®ã¿ï¼‰
  - [x] `complete_authentication`: èªè¨¼å®Œäº†ã‚’é€šçŸ¥ï¼ˆä¸»ãŸã‚‹å®Œäº†æ¤œçŸ¥æ‰‹æ®µï¼‰
  - [x] `complete_domain_authentication`: ãƒ‰ãƒ¡ã‚¤ãƒ³å˜ä½ã§èªè¨¼ã‚’ä¸€æ‹¬å®Œäº†
  - [x] `skip_authentication`: èªè¨¼ã‚’ã‚¹ã‚­ãƒƒãƒ—
  - [x] `skip_domain_authentication`: ãƒ‰ãƒ¡ã‚¤ãƒ³å˜ä½ã§ã‚¹ã‚­ãƒƒãƒ—
- [x] `FetchResult` ã« `auth_queued`, `queue_id` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 
- [x] `BrowserFetcher.fetch()` ã« `queue_auth` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¿½åŠ 
- [x] **ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ™ãƒ¼ã‚¹èªè¨¼ç®¡ç†**ï¼ˆÂ§3.6.1ï¼‰
  - åŒä¸€ãƒ‰ãƒ¡ã‚¤ãƒ³ã®èªè¨¼å®Œäº†ã§è¤‡æ•°ã‚¿ã‚¹ã‚¯ã®ã‚­ãƒ¥ãƒ¼ã‚’ä¸€æ‹¬è§£æ±º
  - èªè¨¼æ¸ˆã¿ã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼ˆCookieç­‰ï¼‰ã‚’åŒä¸€ãƒ‰ãƒ¡ã‚¤ãƒ³ã§å…±æœ‰
  - ãƒ‰ãƒ¡ã‚¤ãƒ³å˜ä½ã§ã®ã‚¹ã‚­ãƒƒãƒ—æ©Ÿèƒ½
- [x] **Â§3.6.1å®‰å…¨é‹ç”¨æ–¹é‡**
  - èªè¨¼ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸­ã¯DOMæ“ä½œï¼ˆã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã€ãƒã‚¤ãƒ©ã‚¤ãƒˆã€ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ï¼‰ç¦æ­¢
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè‡ªåˆ†ã§ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã‚’ç™ºè¦‹ãƒ»è§£æ±º
  - ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãªã—ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸»å°ã®å®Œäº†å ±å‘Šï¼‰

---

## Phase 9: ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ âœ…

### 9.1 ãƒ¬ãƒãƒ¼ãƒˆæ§‹æˆ âœ…
- [x] Markdownãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
- [x] JSONãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

### 9.2 å¼•ç”¨ç®¡ç† âœ…
- [x] å‡ºå…¸ãƒªã‚¹ãƒˆç”Ÿæˆ
- [x] æ·±ã„ãƒªãƒ³ã‚¯ç”Ÿæˆ (Â§3.4æº–æ‹ : ã‚¢ãƒ³ã‚«ãƒ¼ã‚¹ãƒ©ãƒƒã‚°ç”Ÿæˆã€ä¸€æ¬¡/äºŒæ¬¡è³‡æ–™åˆ†é¡)

---

## Phase 10: è‡ªå‹•é©å¿œ/ãƒ¡ãƒˆãƒªã‚¯ã‚¹ âœ…

### 10.1 ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›† âœ…
- [x] `MetricsCollector` ã‚¯ãƒ©ã‚¹ - åŒ…æ‹¬çš„ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†
- [x] `TaskMetrics` - ã‚¿ã‚¹ã‚¯å˜ä½ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹è¿½è·¡
- [x] `MetricValue` - EMAãƒ™ãƒ¼ã‚¹ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹å€¤ç®¡ç†
- [x] æ¤œç´¢å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹ï¼ˆåç©«ç‡ã€æ–°è¦æ€§ã€é‡è¤‡ç‡ã€ãƒ‰ãƒ¡ã‚¤ãƒ³å¤šæ§˜æ€§ï¼‰
- [x] éœ²å‡ºãƒ»å›é¿ãƒ¡ãƒˆãƒªã‚¯ã‚¹ï¼ˆToråˆ©ç”¨ç‡ã€ãƒ˜ãƒƒãƒ‰ãƒ•ãƒ«æ¯”ç‡ã€304æ´»ç”¨ç‡ã€ã‚¨ãƒ©ãƒ¼ç‡ï¼‰
- [x] OSINTå“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹ï¼ˆä¸€æ¬¡è³‡æ–™ç‡ã€å¼•ç”¨ãƒ«ãƒ¼ãƒ—ç‡ã€çŸ›ç›¾ç‡ã€ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³è¢«è¦†ç‡ï¼‰

### 10.2 ãƒãƒªã‚·ãƒ¼è‡ªå‹•æ›´æ–° âœ…
- [x] `PolicyEngine` - ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰ãƒ«ãƒ¼ãƒ—åˆ¶å¾¡ã‚¨ãƒ³ã‚¸ãƒ³
- [x] `ParameterBounds` - ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å¢ƒç•Œå®šç¾©
- [x] `ParameterState` - ãƒ’ã‚¹ãƒ†ãƒªã‚·ã‚¹ä»˜ããƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿çŠ¶æ…‹ç®¡ç†
- [x] ã‚¨ãƒ³ã‚¸ãƒ³é‡ã¿ãƒ»QPSè‡ªå‹•èª¿æ•´
- [x] ãƒ‰ãƒ¡ã‚¤ãƒ³headfulæ¯”ç‡ãƒ»Toræ¯”ç‡ãƒ»ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³è‡ªå‹•èª¿æ•´
- [x] æŒ¯å‹•é˜²æ­¢ã®ãŸã‚ã®ãƒ’ã‚¹ãƒ†ãƒªã‚·ã‚¹ï¼ˆæœ€å°é–“éš”300ç§’ï¼‰

### 10.3 ãƒªãƒ—ãƒ¬ã‚¤ãƒ¢ãƒ¼ãƒ‰ âœ…
- [x] `DecisionLogger` - æ±ºå®šãƒ­ã‚°è¨˜éŒ²
- [x] `Decision` - æ±ºå®šãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼ˆ10ç¨®é¡ã®æ±ºå®šã‚¿ã‚¤ãƒ—ï¼‰
- [x] `ReplayEngine` - æ±ºå®šãƒ•ãƒ­ãƒ¼å†å®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³
- [x] `ReplaySession` - ãƒªãƒ—ãƒ¬ã‚¤ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
- [x] æ±ºå®šæ¯”è¼ƒãƒ»divergenceæ¤œå‡º
- [x] ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ¬ãƒãƒ¼ãƒˆå‡ºåŠ›

### 10.4 æ°¸ç¶šåŒ– âœ…
- [x] `metrics_snapshot` ãƒ†ãƒ¼ãƒ–ãƒ« - ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ
- [x] `task_metrics` ãƒ†ãƒ¼ãƒ–ãƒ« - ã‚¿ã‚¹ã‚¯åˆ¥ãƒ¡ãƒˆãƒªã‚¯ã‚¹
- [x] `policy_updates` ãƒ†ãƒ¼ãƒ–ãƒ« - ãƒãƒªã‚·ãƒ¼æ›´æ–°å±¥æ­´
- [x] `decisions` ãƒ†ãƒ¼ãƒ–ãƒ« - æ±ºå®šãƒ­ã‚°
- [x] `replay_sessions` ãƒ†ãƒ¼ãƒ–ãƒ« - ãƒªãƒ—ãƒ¬ã‚¤ã‚»ãƒƒã‚·ãƒ§ãƒ³
- [x] ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãƒ“ãƒ¥ãƒ¼ï¼ˆv_latest_metrics, v_recent_policy_updates, v_task_metrics_summaryï¼‰

---

## Phase 11: æ¢ç´¢åˆ¶å¾¡ã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆCursor AIä¸»å°ï¼‰ âœ…

**è¨­è¨ˆæ–¹é‡**: Â§2.1ã«åŸºã¥ãã€ã‚¯ã‚¨ãƒª/ã‚µãƒ–ã‚¯ã‚¨ãƒªã®è¨­è¨ˆã¯Cursor AIãŒå…¨é¢çš„ã«è¡Œã†ã€‚
Lancetã¯è¨­è¨ˆæ”¯æ´æƒ…å ±ã®æä¾›ã¨å®Ÿè¡Œã«å°‚å¿µã™ã‚‹ï¼ˆå€™è£œç”Ÿæˆã¯è¡Œã‚ãªã„ï¼‰ã€‚

### 11.1 è¨­è¨ˆæ”¯æ´æƒ…å ±ã®æä¾› âœ…
- [x] `ResearchContext` ã‚¯ãƒ©ã‚¹ - è¨­è¨ˆæ”¯æ´æƒ…å ±ã®æ§‹ç¯‰
  - [x] ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£æŠ½å‡ºï¼ˆå›ºæœ‰è¡¨ç¾èªè­˜ï¼‰
  - [x] å‚ç›´ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå€™è£œã®æç¤º
  - [x] é¡ä¼¼éå»ã‚¯ã‚¨ãƒªã®æˆåŠŸç‡å–å¾—
  - [x] æ¨å¥¨ã‚¨ãƒ³ã‚¸ãƒ³/ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç®—å‡º
- [x] `get_research_context` MCPãƒ„ãƒ¼ãƒ«å®Ÿè£…

### 11.2 ã‚µãƒ–ã‚¯ã‚¨ãƒªå®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³ âœ…
- [x] `SubqueryExecutor` ã‚¯ãƒ©ã‚¹ - Cursor AIæŒ‡å®šã®ã‚µãƒ–ã‚¯ã‚¨ãƒªã‚’å®Ÿè¡Œ
  - [x] æ¤œç´¢â†’å–å¾—â†’æŠ½å‡ºâ†’è©•ä¾¡ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
  - [x] æ©Ÿæ¢°çš„å±•é–‹ï¼ˆåŒç¾©èªãƒ»ãƒŸãƒ©ãƒ¼ã‚¯ã‚¨ãƒªãƒ»æ¼”ç®—å­ä»˜ä¸ï¼‰
  - [x] çµæœã‚µãƒãƒªã®ç”Ÿæˆ
- [x] `execute_subquery` MCPãƒ„ãƒ¼ãƒ«å®Ÿè£…

### 11.3 æ¢ç´¢çŠ¶æ…‹ç®¡ç† âœ…
- [x] `ExplorationState` ã‚¯ãƒ©ã‚¹ - ã‚¿ã‚¹ã‚¯/ã‚µãƒ–ã‚¯ã‚¨ãƒªçŠ¶æ…‹ã®ç®¡ç†
  - [x] å……è¶³åº¦åˆ¤å®šï¼ˆÂ§3.1.7.3: ç‹¬ç«‹ã‚½ãƒ¼ã‚¹æ•° + ä¸€æ¬¡è³‡æ–™æœ‰ç„¡ï¼‰
  - [x] æ–°è¦æ€§ã‚¹ã‚³ã‚¢è¨ˆç®—ï¼ˆÂ§3.1.7.4: ç›´è¿‘kæ–­ç‰‡ã®æ–°è¦ç‡ï¼‰
  - [x] äºˆç®—æ¶ˆè²»è¿½è·¡ï¼ˆãƒšãƒ¼ã‚¸æ•°/æ™‚é–“ï¼‰
  - [x] **ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ã¿è¿”å´**ï¼ˆ`recommendations`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å‰Šé™¤æ¸ˆã¿ï¼‰
- [x] `get_exploration_status` MCPãƒ„ãƒ¼ãƒ«å®Ÿè£…
  - **é‡è¦**: æ¨å¥¨ãªã—ã€‚Cursor AIãŒãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’åŸºã«æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’åˆ¤æ–­ã™ã‚‹ï¼ˆÂ§2.1è²¬ä»»åˆ†ç•Œæº–æ‹ ï¼‰

### 11.4 åè¨¼æ¢ç´¢ï¼ˆæ©Ÿæ¢°ãƒ‘ã‚¿ãƒ¼ãƒ³é©ç”¨ï¼‰ âœ…
- [x] `RefutationExecutor` ã‚¯ãƒ©ã‚¹ - Cursor AIæŒ‡å®šã®ä¸»å¼µã«å¯¾ã™ã‚‹åè¨¼æ¤œç´¢
  - [x] æ©Ÿæ¢°ãƒ‘ã‚¿ãƒ¼ãƒ³é©ç”¨ï¼ˆå®šå‹æ¥å°¾è¾ã®ä»˜ä¸ã®ã¿ï¼‰
  - [x] åè¨¼çµæœã®ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ã‚°ãƒ©ãƒ•ã¸ã®ç™»éŒ²
  - [x] ä¿¡é ¼åº¦èª¿æ•´ï¼ˆåè¨¼ã‚¼ãƒ­æ™‚ã®æ¸›è¡°ï¼‰
- [x] `execute_refutation` MCPãƒ„ãƒ¼ãƒ«å®Ÿè£…

### 11.5 æ¢ç´¢çµ‚äº†å‡¦ç† âœ…
- [x] `finalize_exploration` MCPãƒ„ãƒ¼ãƒ«å®Ÿè£…
  - [x] æœ€çµ‚çŠ¶æ…‹ã®DBè¨˜éŒ²
  - [x] æœªå……è¶³ã‚µãƒ–ã‚¯ã‚¨ãƒªã®æ˜ç¤º
  - [x] ãƒ•ã‚©ãƒ­ãƒ¼ã‚¢ãƒƒãƒ—å€™è£œã®å‡ºåŠ›

---

## Phase 12: ã‚¯ãƒ­ãƒ¼ãƒªãƒ³ã‚°æ‹¡å¼µ âœ…

### 12.1 robots.txt / sitemapå¯¾å¿œ âœ…
- [x] `robots.txt` ãƒ‘ãƒ¼ã‚µãƒ¼ã¨éµå®ˆãƒã‚§ãƒƒã‚¯ï¼ˆRobotsCheckerï¼‰
- [x] `sitemap.xml` ãƒ‘ãƒ¼ã‚µãƒ¼ã¨é‡è¦URLæŠ½å‡ºï¼ˆSitemapParserï¼‰

### 12.2 ãƒ‰ãƒ¡ã‚¤ãƒ³å†…BFSæ¢ç´¢ âœ…
- [x] åŒä¸€ãƒ‰ãƒ¡ã‚¤ãƒ³æ·±ã•â‰¤2ã®BFSæ¢ç´¢ï¼ˆDomainBFSCrawlerï¼‰
- [x] è¦‹å‡ºã—/ç›®æ¬¡/é–¢é€£è¨˜äº‹ãƒªãƒ³ã‚¯ã®å„ªå…ˆåº¦ä»˜ã‘ï¼ˆLinkExtractorï¼‰

### 12.3 ã‚µã‚¤ãƒˆå†…æ¤œç´¢UIè‡ªå‹•æ“ä½œ âœ…
- [x] allowlistãƒ‰ãƒ¡ã‚¤ãƒ³ç®¡ç†ï¼ˆconfig/domains.yamlé€£æºï¼‰
- [x] ãƒ•ã‚©ãƒ¼ãƒ è‡ªå‹•æ¤œå‡ºã¨å…¥åŠ›ï¼ˆSiteSearchManagerï¼‰
- [x] æˆåŠŸç‡/åç©«ç‡ã®å­¦ç¿’åæ˜ ï¼ˆDomainSearchStatsï¼‰

### 12.4 Waybackå·®åˆ†æ¢ç´¢ âœ…
- [x] ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆå–å¾—ï¼ˆWaybackClientï¼‰
- [x] è¦‹å‡ºã—ãƒ»è¦ç‚¹ãƒ»æ—¥ä»˜ã®å·®åˆ†æŠ½å‡ºï¼ˆContentAnalyzerï¼‰
- [x] ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³æ§‹ç¯‰ï¼ˆWaybackExplorerï¼‰

---

## Phase 13: ä¿¡é ¼åº¦ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ âœ…

### 13.1 ç¢ºç‡æ ¡æ­£ âœ…
- [x] Platt/æ¸©åº¦ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°å®Ÿè£…ï¼ˆÂ§3.3.4ï¼‰
- [x] `llm_extract`/`nli_judge`ã¸ã®é©ç”¨ï¼ˆCalibrator.calibrateï¼‰

### 13.2 è©•ä¾¡ã¨ç›£è¦– âœ…
- [x] Brierã‚¹ã‚³ã‚¢è¨ˆç®—
- [x] ã‚µãƒ³ãƒ—ãƒ«è“„ç©ãƒ™ãƒ¼ã‚¹å†æ ¡æ­£ï¼ˆé–¾å€¤åˆ°é”ã§è‡ªå‹•å†è¨ˆç®—ï¼‰
- [x] 3Bâ†’7Bæ˜‡æ ¼åˆ¤å®šã¨ã®é€£å‹•ï¼ˆEscalationDeciderï¼‰

---

## Phase 14: ãƒ†ã‚¹ãƒˆ/æ¤œè¨¼ (éƒ¨åˆ†å®Œäº†)

### 14.1 ãƒ†ã‚¹ãƒˆåŸºç›¤ âœ…
- [x] pytestãƒãƒ¼ã‚«ãƒ¼è¨­å®šï¼ˆunit/integration/e2e/slowï¼‰
- [x] conftest.pyã«ãƒãƒ¼ã‚«ãƒ¼è‡ªå‹•ä»˜ä¸ãƒ•ãƒƒã‚¯
- [x] ãƒ¢ãƒƒã‚¯ãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£ï¼ˆSearXNGã€Ollamaã€Browserï¼‰
- [x] ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¯ãƒˆãƒª

### 14.2 ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰å“è³ªåŸºæº– âœ…
- [x] Â§7.1.1 ç¦æ­¢ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®šç¾©ã¨æ˜¯æ­£
- [x] Â§7.1.7 ç¶™ç¶šçš„æ¤œè¨¼åŸºæº–ã®æ”¹è¨‚
  - [x] ã‚«ãƒãƒ¬ãƒƒã‚¸ç›£è¦–æŒ‡æ¨™ï¼ˆCIãƒ–ãƒ­ãƒƒã‚¯ãªã—ï¼‰
  - [x] ãƒ†ã‚¹ãƒˆåˆ†é¡ã¨å®Ÿè¡Œæ™‚é–“åˆ¶ç´„
  - [x] ãƒ¢ãƒƒã‚¯æˆ¦ç•¥ã®æ˜æ–‡åŒ–

### 14.3 ãƒ†ã‚¹ãƒˆå®Ÿè£…

#### 14.3.1 å®Œäº†æ¸ˆã¿ãƒ†ã‚¹ãƒˆ âœ…
- [x] åŸºæœ¬ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼ˆ689ä»¶ã€å…¨ãƒ‘ã‚¹ï¼‰
- [x] Phase 10ãƒ†ã‚¹ãƒˆï¼ˆãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€ãƒãƒªã‚·ãƒ¼ã€ãƒªãƒ—ãƒ¬ã‚¤ï¼‰
- [x] Phase 8ãƒ†ã‚¹ãƒˆï¼ˆé€šçŸ¥/æ‰‹å‹•ä»‹å…¥ãƒ•ãƒ­ãƒ¼ï¼‰
- [x] Phase 9ãƒ†ã‚¹ãƒˆï¼ˆãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆã€æ·±ã„ãƒªãƒ³ã‚¯ç”Ÿæˆï¼‰
- [x] Phase 11ãƒ†ã‚¹ãƒˆï¼ˆæ¢ç´¢åˆ¶å¾¡ã‚¨ãƒ³ã‚¸ãƒ³ã€è²¬ä»»åˆ†ç•Œæ¤œè¨¼ï¼‰
- [x] OCRãƒ†ã‚¹ãƒˆä¿®æ­£ï¼ˆãƒ¢ãƒƒã‚¯æˆ¦ç•¥æ”¹å–„ï¼‰
- [x] çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆ26ä»¶ï¼šãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã€ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ã‚°ãƒ©ãƒ•ã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ç­‰ï¼‰

#### 14.3.2 E2Eè¨­è¨ˆæ–¹é‡ï¼ˆå®Ÿè£…ã‚¿ã‚¹ã‚¯ã¯Phase 16.10ã¸ç§»å‹•ï¼‰

> **å®Ÿè£…ã‚¿ã‚¹ã‚¯**: Phase 16.10 ã«çµ±åˆæ¸ˆã¿ï¼ˆPhase 16.9å®Œäº†å¾Œã«å®Ÿæ–½ï¼‰

##### èƒŒæ™¯ãƒ»ä¿ç•™ç†ç”±

E2Eãƒ†ã‚¹ãƒˆã¯å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆæ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ï¼‰ã‚’å®Ÿéš›ã«å©ããŸã‚ã€ä»¥ä¸‹ã®ãƒªã‚¹ã‚¯ãŒã‚ã‚‹ï¼š

- **botæ¤œçŸ¥**: DuckDuckGo/Brave/Qwantç­‰ã¯CAPTCHA/ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã§ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã‚„ã™ã„
- **IPãƒªã‚¹ã‚¯**: é–‹ç™ºç’°å¢ƒã®IPã¯æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã‹ã‚‰ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã‚„ã™ã„
- **IPæ±šæŸ“**: ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã§ãƒ›ã‚¹ãƒˆIPãŒæ±šæŸ“ã•ã‚Œã€**é€šå¸¸ã®ãƒ–ãƒ©ã‚¦ã‚¶åˆ©ç”¨ã«ã‚‚å½±éŸ¿**ï¼ˆCAPTCHAãŒå‡ºã‚‹ï¼‰

â†’ **ä½ãƒªã‚¹ã‚¯ãªIPï¼ˆè‡ªå®…ç’°å¢ƒç­‰ï¼‰ã§E2Eå®Ÿè£…ã‚’é€²ã‚ã‚‹ãŸã‚ã€æ„å›³çš„ã«ä¿ç•™ã—ã¦ã„ãŸã€‚**

##### ã‚³ãƒ³ã‚»ãƒ—ãƒˆã®æ•´åˆæ€§

Lancetã¯ã€ŒZero OpExã€ã‚’æ²ã’ã¤ã¤ã€IPãƒ–ãƒ­ãƒƒã‚¯ã‚’å®Œå…¨å›é¿ã™ã‚‹ã“ã¨ã¯å›°é›£ã€‚Â§2ã®ã€ŒåŠè‡ªå‹•é‹ç”¨ã€ã§ä»¥ä¸‹ã‚’è¨±å®¹ï¼š

```
- CAPTCHA/ãƒ­ã‚°ã‚¤ãƒ³ç­‰ã¯æ‰‹å‹•è§£é™¤ã‚’è¨±å®¹
- èªè¨¼å¾…ã¡ã‚­ãƒ¥ãƒ¼ã«ç©ã¿ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®éƒ½åˆã§ãƒãƒƒãƒå‡¦ç†
- èªè¨¼ä¸è¦ã‚½ãƒ¼ã‚¹ã‚’å„ªå…ˆå‡¦ç†ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ä»‹å…¥å›æ•°ã‚’æœ€å°åŒ–
```

**ã¤ã¾ã‚Šã€Œãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œãªã„ã€ã§ã¯ãªãã€Œãƒ–ãƒ­ãƒƒã‚¯ã•ã‚ŒãŸã‚‰æ‰‹å‹•èª˜å°ã€ãŒã‚³ãƒ³ã‚»ãƒ—ãƒˆã€‚**
ã“ã®ã€Œæ‰‹å‹•èª˜å°ã€ãŒç¢ºå®Ÿã«æ©Ÿèƒ½ã™ã‚‹ã“ã¨ã‚’E2Eã§æ¤œè¨¼ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚

##### ãƒ†ã‚¹ãƒˆåˆ†é¡ã®æ£²ã¿åˆ†ã‘

| ãƒ¬ã‚¤ãƒ¤ | å¤–éƒ¨ä¾å­˜ | å®Ÿè¡Œç’°å¢ƒ | ç›®çš„ |
|--------|----------|----------|------|
| **unit** | ãªã—ï¼ˆå…¨ãƒ¢ãƒƒã‚¯ï¼‰ | ã©ã“ã§ã‚‚ | ã‚³ãƒ¼ãƒ‰ãƒ­ã‚¸ãƒƒã‚¯æ¤œè¨¼ |
| **integration** | ãªã—ï¼ˆå…¨ãƒ¢ãƒƒã‚¯ï¼‰ | ã©ã“ã§ã‚‚ | ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé€£æºæ¤œè¨¼ |
| **e2e** | ã‚ã‚Šï¼ˆå®Ÿã‚µãƒ¼ãƒ“ã‚¹ï¼‰ | **ä½ãƒªã‚¹ã‚¯IPé™å®š** | å®Ÿç’°å¢ƒã§ã®å‹•ä½œæ¤œè¨¼ |

##### E2Eã®ç´°åˆ†é¡ï¼ˆãƒªã‚¹ã‚¯ãƒ™ãƒ¼ã‚¹ï¼‰

| ãƒãƒ¼ã‚«ãƒ¼ | ãƒªã‚¹ã‚¯ | ä¾‹ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå®Ÿè¡Œ |
|----------|--------|-----|---------------|
| `@e2e` | ä½ | DBæ“ä½œã€ãƒ­ãƒ¼ã‚«ãƒ«Ollama | âŒ é™¤å¤– |
| `@e2e @external` | ä¸­ | ç›´æ¥ãƒ–ãƒ©ã‚¦ã‚¶æ¤œç´¢ï¼ˆmojeekç­‰ãƒ–ãƒ­ãƒƒã‚¯è€æ€§ã‚¨ãƒ³ã‚¸ãƒ³ï¼‰ | âŒ é™¤å¤– |
| `@e2e @rate_limited` | é«˜ | DuckDuckGo/Googleï¼ˆãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã‚„ã™ã„ï¼‰ | âŒ é™¤å¤– |
| `@e2e @manual` | ç‰¹æ®Š | CAPTCHAè§£æ±ºãƒ•ãƒ­ãƒ¼ | âŒ é™¤å¤– |

---

## Phase 15: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ/é‹ç”¨ ğŸ”„

### 15.1 ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ ğŸ”„
- [ ] README.mdï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ã€ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³ï¼‰
- [ ] LICENSEï¼ˆæ¤œè¨ä¸­ï¼‰
- [x] æœ¬å®Ÿè£…è¨ˆç”»æ›¸
- [ ] æ‰‹å‹•ä»‹å…¥é‹ç”¨æ‰‹é †æ›¸ï¼ˆÂ§6æˆæœç‰©: èªè¨¼å¾…ã¡ã‚­ãƒ¥ãƒ¼é‹ç”¨ã€ãƒãƒƒãƒå‡¦ç†æ‰‹é †ã€ã‚¹ã‚­ãƒƒãƒ—åˆ¤æ–­åŸºæº–ï¼‰
- [ ] MCPãƒ„ãƒ¼ãƒ«ä»•æ§˜æ›¸ï¼ˆÂ§6æˆæœç‰©: I/Oã‚¹ã‚­ãƒ¼ãƒã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã€ãƒªãƒˆãƒ©ã‚¤æ–¹é‡ï¼‰
- [ ] ã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ä»•æ§˜æ›¸ï¼ˆÂ§6æˆæœç‰©: ã‚¹ãƒ­ãƒƒãƒˆå®šç¾©ã€æ’ä»–ãƒ«ãƒ¼ãƒ«ã€äºˆç®—åˆ¶å¾¡ï¼‰
- [ ] ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«å¥å…¨æ€§ç›£æŸ»é‹ç”¨æ‰‹é †ï¼ˆÂ§6æˆæœç‰©: ç›£æŸ»é …ç›®ã€è‡ªå‹•ä¿®å¾©ãƒ•ãƒ­ãƒ¼ï¼‰

### 15.2 é‹ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ âœ…
- [x] `scripts/dev.sh` - é–‹ç™ºç’°å¢ƒç®¡ç†
- [x] `scripts/start-chrome.sh` - Chromeèµ·å‹•ï¼ˆWindowså´ï¼‰

---

## Phase 16: æœªå®Ÿè£…æ©Ÿèƒ½ (Gap Analysis) â³

**requirements.md ã¨ã®è©³ç´°ç…§åˆã«ã‚ˆã‚Šç‰¹å®šã•ã‚ŒãŸæœªå®Ÿè£…é …ç›®ã€‚**
**å„ªå…ˆåº¦**: ğŸ”´ é«˜ï¼ˆE2Eå‰ã«å¿…é ˆï¼‰ / ğŸŸ¡ ä¸­ï¼ˆMVPå¼·åŒ–ï¼‰ / ğŸŸ¢ ä½ï¼ˆå°†æ¥æ‹¡å¼µï¼‰

---

### 16.1 æŠ—å ªæ€§ãƒ»ã‚¹ãƒ†ãƒ«ã‚¹æ€§ (Â§4.3) ğŸ”´

#### 16.1.1 ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯/IPå±¤
- [x] **IPv6é‹ç”¨** (Â§4.3) âœ…
  - v6â†’v4åˆ‡æ›¿ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³å˜ä½ã§æˆåŠŸç‡å­¦ç¿’ï¼‰
  - IPv6æˆåŠŸç‡ãƒ¡ãƒˆãƒªã‚¯ã‚¹è¿½è·¡
  - ãƒãƒƒãƒ”ãƒ¼ã‚¢ã‚¤ãƒœãƒ¼ãƒ«é¢¨åˆ‡æ›¿ï¼ˆã‚¢ãƒ‰ãƒ¬ã‚¹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒªãƒ¼ãƒ–ï¼‰
  - å®Ÿè£…: `src/crawler/ipv6_manager.py` (IPv6ConnectionManager, DomainIPv6Stats, IPv6Metrics)
  - DBã‚¹ã‚­ãƒ¼ãƒ: `domains`ãƒ†ãƒ¼ãƒ–ãƒ«ã«IPv6é–¢é€£ã‚«ãƒ©ãƒ 14å€‹è¿½åŠ 
  - è¨­å®š: `config/settings.yaml` (ipv6ã‚»ã‚¯ã‚·ãƒ§ãƒ³)
  - dns_policy.pyçµ±åˆ: IPv6å„ªå…ˆåº¦åˆ¶å¾¡ãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ 
  - fetcher.pyçµ±åˆ: IPv6ãƒ¡ãƒˆãƒªã‚¯ã‚¹è¿½è·¡
  - ãƒ†ã‚¹ãƒˆ: 64ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ã€Â§7.1æº–æ‹ ï¼‰
- [x] **DNSæ–¹é‡** (Â§4.3) âœ…
  - socks5h://ã«ã‚ˆã‚‹TorçµŒè·¯æ™‚ã®DNSãƒªãƒ¼ã‚¯é˜²æ­¢ï¼ˆPrivoxyä¸è¦ï¼‰
  - EDNS Client Subnetç„¡åŠ¹åŒ–è¨­å®š
  - DNSã‚­ãƒ£ãƒƒã‚·ãƒ¥TTLå°Šé‡
  - DNSãƒªãƒ¼ã‚¯æ¤œå‡ºãƒ¡ãƒˆãƒªã‚¯ã‚¹
  - å®Ÿè£…: `src/crawler/dns_policy.py` (DNSPolicyManager, get_dns_policy_manager)
  - HTTPFetcherçµ±åˆ: socks5:// â†’ socks5h://ã¸ã®å¤‰æ›´
  - ãƒ†ã‚¹ãƒˆ: 37ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ï¼‰
- [x] **HTTP/3(QUIC)æ–¹é‡** (Â§4.3) âœ…
  - ãƒ–ãƒ©ã‚¦ã‚¶çµŒç”±ã§ã®HTTP/3è‡ªç„¶åˆ©ç”¨æ¤œçŸ¥
  - HTTP/3æä¾›ã‚µã‚¤ãƒˆã§ã®ãƒ–ãƒ©ã‚¦ã‚¶çµŒè·¯æ¯”ç‡è‡ªå‹•å¢—åŠ 
  - å®Ÿè£…: `src/crawler/http3_policy.py` (HTTP3PolicyManager, ProtocolVersion, HTTP3DomainStats)
  - è¨­å®š: `config/settings.yaml` http3ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¿½åŠ 
  - ã‚¹ã‚­ãƒ¼ãƒ: `domains`ãƒ†ãƒ¼ãƒ–ãƒ«ã«HTTP/3é–¢é€£ã‚«ãƒ©ãƒ è¿½åŠ 
  - ãƒ†ã‚¹ãƒˆ: 45ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ã€Â§7.1æº–æ‹ ï¼‰

#### 16.1.2 ãƒˆãƒ©ãƒ³ã‚¹ãƒãƒ¼ãƒˆ/TLSå±¤
- [x] **sec-fetch-*ãƒ˜ãƒƒãƒ€ãƒ¼æ•´åˆ** (Â§4.3) âœ…
  - `sec-fetch-site`, `sec-fetch-mode`, `sec-fetch-dest`ã®é·ç§»ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ•´åˆ
  - SERPâ†’è¨˜äº‹é·ç§»ã§ã®è‡ªç„¶ãªãƒ˜ãƒƒãƒ€ãƒ¼ç”Ÿæˆ
  - å®Ÿè£…: `src/crawler/sec_fetch.py`, HTTPFetcherçµ±åˆ
- [x] **sec-ch-ua*ãƒ˜ãƒƒãƒ€ãƒ¼** (Â§4.3) âœ…
  - Client Hintsãƒ˜ãƒƒãƒ€ãƒ¼ã®é©åˆ‡ãªè¨­å®š
  - å®Ÿè£…: `src/crawler/sec_fetch.py` (SecCHUAHeaders, generate_sec_ch_ua_headers)

#### 16.1.3 ãƒ–ãƒ©ã‚¦ã‚¶/JSå±¤
- [x] **navigator.webdriverã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰** (Â§4.3) âœ…
  - `stealth.js`ç›¸å½“ã®æœ€å°é™ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰
  - å®Ÿè£…: `src/crawler/stealth.py` (STEALTH_JS, CDP_STEALTH_JS)
- [x] **undetected-chromedriverãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯** (Â§4.3) âœ…
  - Cloudflareå¼·/Turnstileæ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯çµŒè·¯
  - å®Ÿè£…: `src/crawler/undetected.py` (UndetectedChromeFetcher)
  - BrowserFetcherçµ±åˆ: è‡ªå‹•ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆcaptcha_rate > 0.5 ã¾ãŸã¯ block_score > 5ï¼‰
  - è¨­å®š: `config/settings.yaml` (browser.undetected_chromedriver)
  - Dockerfileæ›´æ–°: Google Chrome + seleniumä¾å­˜é–¢ä¿‚è¿½åŠ 
  - ãƒ†ã‚¹ãƒˆ: 27ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ï¼‰
- [x] **viewportã‚¸ãƒƒã‚¿ãƒ¼** (Â§4.3) âœ…
  - ç‹­å¹…ã‚¸ãƒƒã‚¿ãƒ¼é©ç”¨ï¼ˆãƒ’ã‚¹ãƒ†ãƒªã‚·ã‚¹ã‚ã‚Šï¼‰
  - å®Ÿè£…: `src/crawler/stealth.py` (ViewportJitter, ViewportJitterConfig)

#### 16.1.4 ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«å¥å…¨æ€§ç›£æŸ» (Â§4.3.1) âœ…
- [x] **ã‚¿ã‚¹ã‚¯é–‹å§‹æ™‚ãƒã‚§ãƒƒã‚¯**
  - UA/ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³å·®åˆ†æ¤œçŸ¥
  - ãƒ•ã‚©ãƒ³ãƒˆã‚»ãƒƒãƒˆå·®åˆ†æ¤œçŸ¥
  - è¨€èª/ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³å·®åˆ†æ¤œçŸ¥
  - Canvas/AudioæŒ‡ç´‹å·®åˆ†æ¤œçŸ¥
  - å®Ÿè£…: `src/crawler/profile_audit.py` (ProfileAuditor, FINGERPRINT_JS)
- [x] **è‡ªå‹•ä¿®å¾©**
  - Chromeå†èµ·å‹•ãƒ•ãƒ©ã‚°
  - ãƒ•ã‚©ãƒ³ãƒˆå†åŒæœŸæ¨å¥¨
  - ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«å†ä½œæˆï¼ˆãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰å¾©å…ƒï¼‰
  - å®Ÿè£…: `src/crawler/profile_audit.py` (RepairAction, attempt_repair)
- [x] **ç›£æŸ»ãƒ­ã‚°**
  - å·®åˆ†ãƒ»ä¿®å¾©å†…å®¹ãƒ»å†è©¦è¡Œå›æ•°ã®æ§‹é€ åŒ–è¨˜éŒ²
  - JSONLå½¢å¼ã®ç›£æŸ»ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«
  - å®Ÿè£…: `src/crawler/profile_audit.py` (_log_audit)
  - BrowserFetcherçµ±åˆ: ãƒ–ãƒ©ã‚¦ã‚¶åˆæœŸåŒ–æ™‚ã«è‡ªå‹•å¥å…¨æ€§ãƒã‚§ãƒƒã‚¯
  - ãƒ†ã‚¹ãƒˆ: 30ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ï¼‰

#### 16.1.5 ã‚»ãƒƒã‚·ãƒ§ãƒ³ç§»é€ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ (Â§3.1.2) âœ…
- [x] **ãƒ–ãƒ©ã‚¦ã‚¶â†’HTTPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç§»é€**
  - Cookie/ETag/UA/Accept-Languageã®å®‰å…¨ãªç§»é€
  - åŒä¸€ãƒ‰ãƒ¡ã‚¤ãƒ³é™å®šåˆ¶ç´„
  - Referer/sec-fetch-*æ•´åˆç¶­æŒ
  - å®Ÿè£…: `src/crawler/session_transfer.py` (SessionTransferManager, SessionData, CookieData)
  - capture_from_browser: Playwrightã‹ã‚‰ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£
  - generate_transfer_headers: HTTPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”¨ãƒ˜ãƒƒãƒ€ãƒ¼ç”Ÿæˆ
  - ãƒ†ã‚¹ãƒˆ: 35ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ï¼‰

#### 16.1.6 ãƒ–ãƒ©ã‚¦ã‚¶çµŒè·¯ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ä¿å­˜ (Â§4.3.2) âœ…
- [x] **CDXJé¢¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿**
  - ä¸»è¦ãƒªã‚½ãƒ¼ã‚¹ã®URL/ãƒãƒƒã‚·ãƒ¥ä¸€è¦§
  - å®Ÿè£…: `src/crawler/browser_archive.py` (CDXJGenerator, url_to_surt)
- [x] **ç°¡æ˜“HARç”Ÿæˆ**
  - CDPã®Networkã‚¤ãƒ™ãƒ³ãƒˆã‹ã‚‰ç”Ÿæˆ
  - å®Ÿè£…: `src/crawler/browser_archive.py` (HARGenerator, NetworkEventCollector)
- [x] **BrowserFetcherã¸ã®çµ±åˆ**
  - ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¤ãƒ™ãƒ³ãƒˆåé›†ã¨ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ä¿å­˜
  - FetchResultã«cdxj_path/har_pathãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 
  - ãƒ†ã‚¹ãƒˆ: 37ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ï¼‰

---

### 16.2 OSINTå“è³ªå¼·åŒ– (Â§3.1, Â§3.3) ğŸŸ¡

#### 16.2.1 æ¤œç´¢æˆ¦ç•¥ (Â§3.1.1)
- [x] **UCB1é¢¨äºˆç®—å†é…åˆ†** âœ…
  - ã‚µãƒ–ã‚¯ã‚¨ãƒªã”ã¨ã®åç©«ç‡ã§äºˆç®—ã‚’å‹•çš„å†é…åˆ†
  - æ¢ç´¢æœ¨åˆ¶å¾¡ã®æœ€é©åŒ–
  - å®Ÿè£…: `src/research/ucb_allocator.py` (UCBAllocator, SubqueryArm)
  - UCB1ã‚¹ã‚³ã‚¢è¨ˆç®—ï¼ˆexploration/exploitation balanceï¼‰
  - ExplorationStateã¨ã®çµ±åˆï¼ˆget_dynamic_budget, get_ucb_scoresç­‰ï¼‰
  - ãƒ†ã‚¹ãƒˆ: 45ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ï¼‰
- [x] **ã‚¯ã‚¨ãƒªABãƒ†ã‚¹ãƒˆ** âœ…
  - è¡¨è¨˜ã‚†ã‚Œ/åŠ©è©/èªé †ãƒãƒªã‚¢ãƒ³ãƒˆã®å°è¦æ¨¡A/B
  - é«˜åç©«ã‚¯ã‚¨ãƒªã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»å†åˆ©ç”¨
  - å®Ÿè£…: `src/search/ab_test.py`
    - `QueryVariantGenerator` - ã‚¯ã‚¨ãƒªãƒãƒªã‚¢ãƒ³ãƒˆç”Ÿæˆï¼ˆè¡¨è¨˜ã‚†ã‚Œ/åŠ©è©/èªé †ï¼‰
    - `ABTestExecutor` - A/Bãƒ†ã‚¹ãƒˆå®Ÿè¡Œãƒ»åç©«ç‡æ¯”è¼ƒ
    - `HighYieldQueryCache` - é«˜åç©«ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥
  - DBã‚¹ã‚­ãƒ¼ãƒ: `query_ab_tests`, `query_ab_variants`, `high_yield_queries`
  - ãƒ†ã‚¹ãƒˆ: 38ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ï¼‰
- [x] **ãƒ”ãƒœãƒƒãƒˆæ¢ç´¢ï¼ˆã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£æ‹¡å¼µï¼‰** âœ…
  - ä¼æ¥­â†’å­ä¼šç¤¾/å½¹å“¡/æ‰€åœ¨åœ°/ãƒ‰ãƒ¡ã‚¤ãƒ³
  - ãƒ‰ãƒ¡ã‚¤ãƒ³â†’ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³â†’è¨¼æ˜æ›¸SANâ†’çµ„ç¹”å
  - å€‹äººâ†’åˆ¥å/ãƒãƒ³ãƒ‰ãƒ«/æ‰€å±
  - å®Ÿè£…: `src/research/pivot.py`
    - `PivotExpander` - ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£æ‹¡å¼µãƒ­ã‚¸ãƒƒã‚¯
    - `PivotSuggestion` - ãƒ”ãƒœãƒƒãƒˆææ¡ˆãƒ‡ãƒ¼ã‚¿æ§‹é€ 
    - `PivotType`, `EntityType` - åˆ—æŒ™å‹
    - `detect_entity_type` - ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚¿ã‚¤ãƒ—è‡ªå‹•æ¤œå‡º
  - ResearchContextçµ±åˆ: `get_context()`ã«`pivot_suggestions`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 
  - ãƒ†ã‚¹ãƒˆ: 33ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ï¼‰

#### 16.2.2 ã‚¤ãƒ³ãƒ•ãƒ©/ãƒ¬ã‚¸ã‚¹ãƒˆãƒªé€£æº (Â§3.1.2, Â§3.1.3)
- [x] **RDAP/WHOISé€£æº** âœ…
  - å…¬å¼Web/ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã‹ã‚‰HTMLå–å¾—
  - ç™»éŒ²è€…/NS/æ›´æ–°å±¥æ­´æŠ½å‡º
  - å®Ÿè£…: `src/crawler/rdap_whois.py` (RDAPClient, WHOISParser, WHOISRecord)
  - è¤‡æ•°ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå¯¾å¿œ: IANA, ARIN, RIPE, APNIC, JPRS, ICANN lookup
  - ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½ã€ãƒãƒƒãƒå‡¦ç†å¯¾å¿œ
  - ãƒ†ã‚¹ãƒˆ: 22ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ï¼‰
- [x] **crt.shé€£æº** âœ…
  - è¨¼æ˜æ›¸é€æ˜æ€§ãƒ­ã‚°ã‹ã‚‰SAN/ç™ºè¡Œè€…/ç™ºè¡Œæ™‚ç³»åˆ—æŠ½å‡º
  - å®Ÿè£…: `src/crawler/crt_transparency.py` (CertTransparencyClient, CertificateInfo, CertTimeline)
  - é–¢é€£ãƒ‰ãƒ¡ã‚¤ãƒ³ç™ºè¦‹ã€è¨¼æ˜æ›¸ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³æ§‹ç¯‰
  - ãƒ†ã‚¹ãƒˆ: 22ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ï¼‰
- [x] **ResearchContextçµ±åˆ** âœ…
  - `get_context()`ã«`registry_info`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 
  - ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã«å¯¾ã™ã‚‹è‡ªå‹•WHOIS/CTæ¤œç´¢
  - å®Ÿè£…: `src/research/context.py` (_get_registry_info, RegistryInfo)
- [x] **ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£KBæ­£è¦åŒ–** âœ…
  - æŠ½å‡ºã—ãŸåç§°/æ‰€åœ¨åœ°/è­˜åˆ¥å­ã®KBæ ¼ç´
  - åˆ¥è¡¨è¨˜ãƒ»ä½æ‰€æ­£è¦åŒ–ãƒ»åŒä¸€æ€§æ¨å®š
  - å®Ÿè£…: `src/storage/entity_kb.py` (EntityKB, NameNormalizer, AddressNormalizer, IdentifierNormalizer)
  - çµ±åˆ: `src/crawler/entity_integration.py` (EntityExtractor, WHOIS/CTé€£æº)
  - ãƒ†ã‚¹ãƒˆ: 71ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ï¼‰

#### 16.2.3 ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—åˆ¤å®š (Â§3.1.2) âœ…
- [x] **è‡ªå‹•åˆ†é¡ãƒ­ã‚¸ãƒƒã‚¯**
  - è¨˜äº‹/ãƒŠãƒ¬ãƒƒã‚¸/æ²ç¤º/ãƒ•ã‚©ãƒ¼ãƒ©ãƒ /ãƒ­ã‚°ã‚¤ãƒ³å£/ä¸€è¦§ã®åˆ¤å®š
  - æŠ½å‡ºãƒ»é·ç§»æˆ¦ç•¥ã®åˆ‡æ›¿
  - å®Ÿè£…: `src/extractor/page_classifier.py` (PageClassifier, PageType, ClassificationResult)
  - HTMLæ§‹é€ ãƒ»URLãƒ»ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ç‰¹å¾´ã«åŸºã¥ãã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°
  - ãƒ†ã‚¹ãƒˆ: 28ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ï¼‰

#### 16.2.4 ä½å“è³ª/ç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„æŠ‘åˆ¶ (Â§3.1.1, Â§3.3.3) âœ…
- [x] **ContentQualityAnalyzerå®Ÿè£…**
  - å®Ÿè£…: `src/extractor/quality_analyzer.py`
  - ç‰¹å¾´é‡: ãƒ†ã‚­ã‚¹ãƒˆçµ±è¨ˆã€æ§‹é€ ç‰¹å¾´ã€ãƒªãƒ³ã‚¯å¯†åº¦ã€åºƒå‘Šå¯†åº¦ã€n-gramåå¾©ã€æ–‡å‡ä¸€æ€§(burstiness/uniformity)
- [x] **ã‚¢ã‚°ãƒªã‚²ãƒ¼ã‚¿/AIç”Ÿæˆæ¤œå‡º**
  - AIãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒï¼ˆ23ãƒ‘ã‚¿ãƒ¼ãƒ³: "it's important to note", "let's delve into"ç­‰ï¼‰
  - æ–‡é•·å‡ä¸€æ€§ãƒ»burstinessã‚¹ã‚³ã‚¢ã«ã‚ˆã‚‹æ¤œå‡º
  - äºŒæ®µå“è³ªã‚²ãƒ¼ãƒˆ: ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹(é«˜é€Ÿ) â†’ LLM(æ›–æ˜§æ™‚ã®ã¿)
- [x] **SEOã‚¹ãƒ‘ãƒ æ¤œå‡º**
  - ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å¯†åº¦ã€ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆãƒªãƒ³ã‚¯ã€CTAéå‰°æ¤œå‡º
  - ã‚¯ãƒªãƒƒã‚¯ãƒ™ã‚¤ãƒˆã€ãƒ†ãƒ³ãƒ—ãƒ¬é‡è¤‡ã€ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ‘ãƒ¼ã‚µã‚¤ãƒˆæ¤œå‡º
- [x] **ãƒšãƒŠãƒ«ãƒ†ã‚£é©ç”¨**
  - æ¤œå‡ºå•é¡Œã«å¿œã˜ãŸã‚¹ã‚³ã‚¢æ¸›è¡°ï¼ˆæœ€å¤§80%æ¸›ï¼‰
  - å“è³ªã‚¹ã‚³ã‚¢0.0ã€œ1.0ã§è©•ä¾¡
- ãƒ†ã‚¹ãƒˆ: 40ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ï¼‰

#### 16.2.5 æ™‚ç³»åˆ—æ•´åˆãƒã‚§ãƒƒã‚¯ (Â§3.3.3) âœ…
- [x] **ä¸»å¼µæ™‚ç‚¹ vs ãƒšãƒ¼ã‚¸æ›´æ–°æ—¥ã®ä¸æ•´åˆæ¤œå‡º**
  - å¤ã„ä¸»å¼µã®ä¿¡é ¼åº¦æ¸›è¡°
  - ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—æ•´åˆæ€§æ¤œè¨¼
  - å®Ÿè£…: `src/filter/temporal_consistency.py` (TemporalConsistencyChecker, DateExtractor)
  - æ—¥ä»˜æŠ½å‡º: ISOå½¢å¼ã€æ—¥æœ¬èªå½¢å¼ï¼ˆä»¤å’Œ/å¹³æˆï¼‰ã€æœˆåå½¢å¼
  - ä¸€è²«æ€§ãƒ¬ãƒ™ãƒ«: consistent/uncertain/stale/inconsistent
  - ä¿¡é ¼åº¦æ¸›è¡°: å¹´æ•°ã«å¿œã˜ãŸæŒ‡æ•°æ¸›è¡°ã€5å¹´ä»¥ä¸Šã§staleåˆ¤å®š
  - ãƒ†ã‚¹ãƒˆ: 45ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ï¼‰

#### 16.2.6 å•ã„â†’ä¸»å¼µåˆ†è§£ (Â§3.3.1) âœ…
- [x] **åŸå­ä¸»å¼µã¸ã®åˆ†è§£**
  - ã‚¹ã‚­ãƒ¼ãƒ: `claim_id`, `text`, `expected_polarity`, `granularity`
  - LLMã¾ãŸã¯ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã§ã®åˆ†è§£ãƒ­ã‚¸ãƒƒã‚¯
  - å®Ÿè£…: `src/filter/claim_decomposition.py`
    - `ClaimDecomposer` ã‚¯ãƒ©ã‚¹ï¼ˆLLM/ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ä¸¡å¯¾å¿œï¼‰
    - `AtomicClaim` ãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼ˆÂ§3.3.1ã‚¹ã‚­ãƒ¼ãƒæº–æ‹ ï¼‰
    - `ClaimPolarity`, `ClaimGranularity`, `ClaimType` åˆ—æŒ™å‹
  - MCPãƒ„ãƒ¼ãƒ«: `decompose_question`
    - å…¥åŠ›: `question`, `use_llm?`, `use_slow_model?`
    - å‡ºåŠ›: `{claims[], decomposition_method, success}`
    - **æ³¨æ„**: `llm_extract`ã¨ã¯å…¥åŠ›å½¢å¼ãŒç•°ãªã‚‹ï¼ˆpassages[] vs question: stringï¼‰ãŸã‚ç‹¬ç«‹ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦å®Ÿè£…
  - ãƒ†ã‚¹ãƒˆ: 36ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ï¼‰

#### 16.2.7 Chain-of-Densityåœ§ç¸® (Â§3.3.1) âœ…
- [x] **è¦ç´„å¯†åº¦ã®å‘ä¸Š**
  - å…¨ä¸»å¼µã«æ·±ã„ãƒªãƒ³ã‚¯ãƒ»ç™ºè¦‹æ—¥æ™‚ãƒ»æŠœç²‹ã‚’å¿…é ˆä»˜ä¸
  - åœ§ç¸®ã¨å¼•ç”¨ã®å³æ ¼åŒ–
  - å®Ÿè£…: `src/report/chain_of_density.py`
    - `ChainOfDensityCompressor` - åå¾©çš„å¯†åº¦å‘ä¸Š
    - `CitationInfo` - å¿…é ˆå¼•ç”¨æƒ…å ±ï¼ˆdeep_link, discovered_at, excerptï¼‰
    - `DenseClaim` - å¼•ç”¨å®Œå…¨æ€§æ¤œè¨¼ä»˜ãä¸»å¼µ
    - LLM/ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ä¸¡å¯¾å¿œ
  - MCPãƒ„ãƒ¼ãƒ«: `compress_with_chain_of_density`
  - ãƒ†ã‚¹ãƒˆ: 30ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ã€Â§7.1æº–æ‹ ï¼‰

---

### 16.3 ä¿¡é ¼åº¦ãƒ»æ ¡æ­£å¼·åŒ– (Â§3.3.4, Â§4.6.1) ğŸŸ¡

#### 16.3.1 æ ¡æ­£ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ (Â§4.6.1) âœ…
- [x] **ãƒ‡ã‚°ãƒ¬æ¤œçŸ¥**
  - Brierã‚¹ã‚³ã‚¢æ‚ªåŒ–ã®æ¤œå‡ºï¼ˆ5%é–¾å€¤è¶…éã§æ¤œçŸ¥ï¼‰
  - å®Ÿè£…: `CalibrationHistory.check_degradation()`
- [x] **ç›´è¿‘ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¸ã®ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯**
  - æ ¡æ­£ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å±¥æ­´ã®ä¿æŒï¼ˆæœ€å¤§10ä»¶/ã‚½ãƒ¼ã‚¹ï¼‰
  - è‡ªå‹•ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿæ§‹ï¼ˆãƒ‡ã‚°ãƒ¬æ¤œçŸ¥æ™‚ã«è‡ªå‹•ç™ºå‹•ï¼‰
  - æ‰‹å‹•ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯å¯¾å¿œï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šå¯ï¼‰
  - å®Ÿè£…: `src/utils/calibration.py`
    - `CalibrationHistory` ã‚¯ãƒ©ã‚¹
    - `RollbackEvent` ãƒ‡ãƒ¼ã‚¿æ§‹é€ 
    - `Calibrator.rollback()` / `rollback_to_version()`
  - MCPãƒ„ãƒ¼ãƒ«: `rollback_calibration`, `get_calibration_history`, `get_rollback_events`, `get_calibration_stats`
  - ãƒ†ã‚¹ãƒˆ: 61ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ï¼‰

#### 16.3.2 è©•ä¾¡ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–ãƒ»å–å¾— (Â§4.6.1) âœ…
- [x] **è©•ä¾¡ãƒ‡ãƒ¼ã‚¿ã®æ°¸ç¶šåŒ–**
  - SQLiteã‚¹ã‚­ãƒ¼ãƒæ‹¡å¼µï¼ˆ`calibration_evaluations`ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰
  - è©•ä¾¡çµæœã®DBä¿å­˜æ©Ÿèƒ½
- [x] **è©•ä¾¡ãƒ‡ãƒ¼ã‚¿å–å¾—æ©Ÿèƒ½**
  - è©•ä¾¡å±¥æ­´ã®æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿è¿”å´
  - ä¿¡é ¼åº¦-ç²¾åº¦æ›²ç·šç”¨ãƒ“ãƒ³ãƒ‡ãƒ¼ã‚¿è¿”å´
- [x] **MCPãƒ„ãƒ¼ãƒ«**
  - `save_calibration_evaluation`: è©•ä¾¡å®Ÿè¡Œãƒ»ä¿å­˜
  - `get_calibration_evaluations`: è©•ä¾¡å±¥æ­´å–å¾—
  - `get_reliability_diagram_data`: ãƒ“ãƒ³ãƒ‡ãƒ¼ã‚¿å–å¾—
  - `add_calibration_sample`: ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯é€ä¿¡ï¼ˆCursor AIâ†’Lancetï¼‰
  - `get_calibration_stats`: æ ¡æ­£çŠ¶æ…‹ç¢ºèª
  - `rollback_calibration`: ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯å®Ÿè¡Œ
- [x] **è²¬ä»»åˆ†ç•Œæº–æ‹ ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿**
  - `generate_report` â†’ `get_report_materials`ï¼ˆç´ ææä¾›ã®ã¿ï¼‰
  - `get_evidence_graph`: ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ã‚°ãƒ©ãƒ•ç›´æ¥å‚ç…§
- **æ³¨æ„**: ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆã¯Cursor AIã®è²¬ä»»ï¼ˆÂ§4.6.1è²¬ä»»åˆ†ç•Œã«æº–æ‹ ï¼‰
- **ãƒ†ã‚¹ãƒˆ**: 113ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ï¼‰

---

### 16.4 ãƒ—ãƒ­ã‚»ã‚¹ç®¡ç† (Â§4.2) âœ…

#### 16.4.1 ãƒ—ãƒ­ã‚»ã‚¹ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ« âœ…
- [x] **ãƒ–ãƒ©ã‚¦ã‚¶ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç ´æ£„**
  - ã‚¿ã‚¹ã‚¯å®Œäº†ã”ã¨ã®Kill
  - ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯é˜²æ­¢
  - å®Ÿè£…: `src/utils/lifecycle.py` (ProcessLifecycleManager, cleanup_task)
  - BrowserFetcherã¸ã®çµ±åˆ: ãƒªã‚½ãƒ¼ã‚¹ç™»éŒ²ã¨è‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
- [x] **LLMãƒ—ãƒ­ã‚»ã‚¹ç ´æ£„**
  - Ollamaã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆè§£æ”¾
  - å®Ÿè£…: `src/utils/lifecycle.py` (OLLAMA_SESSION ãƒªã‚½ãƒ¼ã‚¹ã‚¿ã‚¤ãƒ—)
  - `src/filter/llm.py` (OllamaClient.unload_model, cleanup_llm_for_task)
  - è¨­å®š: `unload_on_task_complete` ã‚ªãƒ—ã‚·ãƒ§ãƒ³è¿½åŠ 
  - ãƒ†ã‚¹ãƒˆ: 29ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ï¼‰

---

### 16.5 è£œåŠ©OSS (Â§5.1.1) ğŸŸ¢

#### 16.5.1 PDFæ§‹é€ è§£æ
- [ ] **GROBIDçµ±åˆ**
  - å‚è€ƒæ–‡çŒ®ãƒ»ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹é€ ã®æŠ½å‡ºå¼·åŒ–

#### 16.5.2 ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢
- [ ] **faiss-gpu**
  - å¤§è¦æ¨¡ã‚³ãƒ¼ãƒ‘ã‚¹æ™‚ã®é«˜é€Ÿæ¤œç´¢
- [ ] **sqlite-vec/hnswlib**
  - è¿‘å‚æ¤œç´¢ã®å¼·åŒ–

#### 16.5.3 Privoxy
- [ ] **TorçµŒç”±DNSè§£æ±º**
  - DNSãƒªãƒ¼ã‚¯é˜²æ­¢ã®ãŸã‚ã®Privoxyè¨­å®š

---

### 16.6 å—ã‘å…¥ã‚ŒåŸºæº–å¯¾å¿œ (Â§7) ğŸ”´

#### 16.6.1 æœªæ¸¬å®šãƒ¡ãƒˆãƒªã‚¯ã‚¹
ä»¥ä¸‹ã®å—ã‘å…¥ã‚ŒåŸºæº–ã¯æ¸¬å®šåŸºç›¤ãŒæœªæ•´å‚™ï¼š
- [x] `IPv6æˆåŠŸç‡â‰¥80%` - IPv6ConnectionManager.metrics.ipv6_success_rateã§æ¸¬å®šå¯èƒ½ âœ…
- [x] `DNSãƒªãƒ¼ã‚¯æ¤œå‡º0ä»¶` - DNSPolicyManager.metrics.leaks_detectedã§æ¸¬å®šå¯èƒ½ âœ…
- [x] `ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«å¥å…¨æ€§ãƒã‚§ãƒƒã‚¯æˆåŠŸç‡â‰¥99%` - ç›£æŸ»æ©Ÿèƒ½å®Ÿè£…æ¸ˆã¿
- [x] `è‡ªå‹•ä¿®å¾©æˆåŠŸç‡â‰¥90%` - ä¿®å¾©æ©Ÿèƒ½å®Ÿè£…æ¸ˆã¿
- [x] `v4â†”v6è‡ªå‹•åˆ‡æ›¿æˆåŠŸç‡â‰¥80%` - IPv6ConnectionManager.metrics.switch_success_rateã§æ¸¬å®šå¯èƒ½ âœ…

#### 16.6.2 E2Eãƒ†ã‚¹ãƒˆå‰ææ¡ä»¶
E2Eãƒ†ã‚¹ãƒˆã‚’æœ‰åŠ¹ã«å®Ÿæ–½ã™ã‚‹ãŸã‚ã®å‰æï¼š
- [x] ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«å¥å…¨æ€§ç›£æŸ»ã®åŸºæœ¬å®Ÿè£… âœ…
- [x] ã‚»ãƒƒã‚·ãƒ§ãƒ³ç§»é€ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ âœ…
- [x] sec-fetch-*ãƒ˜ãƒƒãƒ€ãƒ¼æ•´åˆ âœ…
- [x] sec-ch-ua*ãƒ˜ãƒƒãƒ€ãƒ¼ âœ…
- [x] ãƒ–ãƒ©ã‚¦ã‚¶çµŒè·¯ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ä¿å­˜ âœ…
- [x] ãƒ—ãƒ­ã‚»ã‚¹ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç† âœ…

---

### 16.7 åŠè‡ªå‹•é‹ç”¨UXæ”¹å–„ (Â§2, Â§3.6) âœ…

**å®Œäº†**: èªè¨¼å¾…ã¡æƒ…å ±ãŒget_exploration_statusã«çµ±åˆã•ã‚Œã€Cursor AIãŒ
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«åˆ¤æ–­ã‚’ä»°ãã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’é©åˆ‡ã«èªè­˜ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã€‚

#### 16.7.1 èªè¨¼å¾…ã¡æƒ…å ±ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹çµ±åˆ âœ…
- [x] **`get_exploration_status`ã¸ã®èªè¨¼å¾…ã¡æƒ…å ±è¿½åŠ **
  - `authentication_queue.pending_count`: èªè¨¼å¾…ã¡ç·æ•°
  - `authentication_queue.high_priority_count`: é«˜å„ªå…ˆåº¦ï¼ˆä¸€æ¬¡è³‡æ–™ï¼‰ã®æ•°
  - `authentication_queue.domains`: èªè¨¼å¾…ã¡ãƒ‰ãƒ¡ã‚¤ãƒ³ä¸€è¦§
  - `authentication_queue.oldest_queued_at`: æœ€å¤ã®ã‚­ãƒ¥ãƒ¼æ™‚åˆ»
  - `authentication_queue.by_auth_type`: èªè¨¼ã‚¿ã‚¤ãƒ—åˆ¥ã‚«ã‚¦ãƒ³ãƒˆ
  - å®Ÿè£…: `src/research/state.py` (ExplorationState.get_status, _get_authentication_queue_summary)
  - å®Ÿè£…: `src/utils/notification.py` (InterventionQueue.get_authentication_queue_summary)
  - ç›®çš„: Cursor AIãŒæ¢ç´¢çŠ¶æ³ç¢ºèªæ™‚ã«èªè¨¼å¾…ã¡ã‚’èªè­˜ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«åˆ¤æ–­ã‚’ä»°ã’ã‚‹

#### 16.7.2 ä¸‰è€…è²¬ä»»åˆ†ç•Œã®æ˜ç¢ºåŒ– âœ…
- [x] **`requirements.md` Â§3.6.1 ã¸ã®è¿½è¨˜**
  - ä¸‰è€…è²¬ä»»åˆ†ç•Œãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ—¢å­˜ï¼‰
  - authentication_queueè©³ç´°ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®èª¬æ˜
  - é–¾å€¤ã‚¢ãƒ©ãƒ¼ãƒˆã®èª¬æ˜
- [x] **å„ªå…ˆåº¦æ±ºå®šãƒ­ã‚¸ãƒƒã‚¯ã®æ˜è¨˜**
  - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: ã‚½ãƒ¼ã‚¹ç¨®åˆ¥ã‹ã‚‰æ¨å®šï¼ˆä¸€æ¬¡è³‡æ–™=highã€äºŒæ¬¡è³‡æ–™=mediumã€ãã®ä»–=lowï¼‰
  - `execute_subquery`ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§Cursor AIãŒæ˜ç¤ºæŒ‡å®šå¯èƒ½

#### 16.7.3 èªè¨¼å¾…ã¡é–¾å€¤ã‚¢ãƒ©ãƒ¼ãƒˆ âœ…
- [x] **èªè¨¼å¾…ã¡æ•°ã«å¿œã˜ãŸè­¦å‘Šãƒ¬ãƒ™ãƒ«**
  - `[warning]`: èªè¨¼å¾…ã¡â‰¥3ä»¶
  - `[critical]`: èªè¨¼å¾…ã¡â‰¥5ä»¶ ã¾ãŸã¯ é«˜å„ªå…ˆåº¦â‰¥2ä»¶
  - `get_exploration_status`ã®`warnings`é…åˆ—ã«å«ã‚ã‚‹
  - å®Ÿè£…: `src/research/state.py` (_generate_auth_queue_alerts)
- [x] **æ¢ç´¢ãƒ–ãƒ­ãƒƒã‚¯æ¤œçŸ¥**
  - èªè¨¼å¾…ã¡ã«ã‚ˆã‚Šä¸€æ¬¡è³‡æ–™ã‚¢ã‚¯ã‚»ã‚¹ãŒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¦ã„ã‚‹å ´åˆã®æ˜ç¤º

#### 16.7.4 èªè¨¼ãƒ•ãƒ­ãƒ¼æ”¹å–„ âœ…
- [x] **`execute_subquery`æˆ»ã‚Šå€¤ã¸ã®èªè¨¼å¾…ã¡æƒ…å ±è¿½åŠ **
  - `auth_blocked_urls`: èªè¨¼å¾…ã¡ã§ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚ŒãŸURLæ•°
  - `auth_queued_count`: ä»Šå›ã‚­ãƒ¥ãƒ¼ã«è¿½åŠ ã•ã‚ŒãŸæ•°
  - å®Ÿè£…: `src/research/executor.py` (SubqueryResult, _fetch_and_extract)
  - Cursor AIãŒå³åº§ã«èªè­˜ã—ã€æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’åˆ¤æ–­å¯èƒ½
- [x] **`FetchResult`ã®èªè¨¼å¾…ã¡ç†ç”±ã®è©³ç´°åŒ–**
  - `auth_type`: cloudflare/captcha/turnstile/hcaptcha/login
  - `estimated_effort`: èªè¨¼ã®æ¨å®šé›£æ˜“åº¦ï¼ˆlow/medium/highï¼‰
  - å®Ÿè£…: `src/crawler/fetcher.py` (FetchResult, _estimate_auth_effort)

---

### 16.8 ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³æ©Ÿèƒ½ï¼ˆÂ§3.4, Â§7ï¼‰ âœ…

**ç›®çš„**: é‡è¦ä¸»å¼µã”ã¨ã«åˆå‡º/æ›´æ–°/è¨‚æ­£/æ’¤å›ã®ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã‚’ä»˜ä¸
**å—ã‘å…¥ã‚ŒåŸºæº–**: ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ä»˜ä¸ç‡â‰¥90%ï¼ˆÂ§7ï¼‰

#### 16.8.1 ä¸»å¼µã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³æ§‹ç¯‰
- [x] `ClaimTimeline`ã‚¯ãƒ©ã‚¹ï¼ˆ`src/filter/claim_timeline.py`ï¼‰
  - ã‚¤ãƒ™ãƒ³ãƒˆç¨®åˆ¥: first_appeared/updated/corrected/retracted/confirmed
  - ãƒ‡ãƒ¼ã‚¿: timestamp, source_url, evidence_fragment_id, wayback_snapshot_url
  - ä¿¡é ¼åº¦èª¿æ•´ï¼ˆæ’¤å›ãƒšãƒŠãƒ«ãƒ†ã‚£ã€ç¢ºèªãƒœãƒ¼ãƒŠã‚¹ï¼‰
  - å®Ÿè£…: `ClaimTimeline`, `TimelineEvent`, `TimelineEventType`, `ClaimTimelineManager`
- [x] Waybackå·®åˆ†ã¨ã®é€£æºï¼ˆPhase 12.4 WaybackExplorerçµ±åˆï¼‰
  - `integrate_wayback_result()`: Waybackçµæœã‹ã‚‰ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³è‡ªå‹•æ§‹ç¯‰
  - first_appeared/updated ã‚¤ãƒ™ãƒ³ãƒˆã®è‡ªå‹•æ¤œå‡º
- [x] ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ä»˜ä¸ç‡ãƒ¡ãƒˆãƒªã‚¯ã‚¹ï¼ˆ`src/utils/metrics.py`ï¼‰
  - æ—¢å­˜ã®`TIMELINE_COVERAGE`ã¨`claims_with_timeline`ã‚’æ´»ç”¨
  - `get_timeline_coverage()`: ã‚¿ã‚¹ã‚¯åˆ¥ã‚«ãƒãƒ¬ãƒƒã‚¸ç®—å‡º
- [x] ãƒ¬ãƒãƒ¼ãƒˆã¸ã®ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³å‡ºåŠ›ï¼ˆ`src/report/generator.py`ï¼‰
  - Markdownãƒ¬ãƒãƒ¼ãƒˆ: æ’¤å›/è¨‚æ­£è­¦å‘Šã€ä¸»è¦ä¸»å¼µã®ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³è¡¨ç¤º
  - JSONãƒ¬ãƒãƒ¼ãƒˆ: ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³çµ±è¨ˆæƒ…å ±ã‚’å«ã‚€
  - `get_report_materials()`: ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã‚«ãƒãƒ¬ãƒƒã‚¸ç‡ã‚’è¿”å´
- ãƒ†ã‚¹ãƒˆ: 47ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ã€Â§7.1æº–æ‹ ï¼‰

---

### 16.9 æ¤œç´¢çµŒè·¯ã®å†è¨­è¨ˆï¼ˆSearXNGå»ƒæ­¢â†’ç›´æ¥ãƒ–ãƒ©ã‚¦ã‚¶æ¤œç´¢ï¼‰ ğŸ”´ğŸ”´ æœ€å„ªå…ˆ

#### èƒŒæ™¯ã¨å•é¡Œ

**ç¾çŠ¶ã®è¨­è¨ˆï¼ˆSearXNGçµŒç”±ï¼‰ã®æŠ€è¡“çš„æ¬ é™¥**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Lancet       â”‚ â†’  â”‚ SearXNG      â”‚ â†’  â”‚ DuckDuckGo   â”‚
â”‚              â”‚    â”‚ (ã‚µãƒ¼ãƒãƒ¼    â”‚    â”‚ ç­‰           â”‚
â”‚ Cookie: ãªã— â”‚    â”‚  ã‚µã‚¤ãƒ‰)     â”‚    â”‚              â”‚
â”‚ æŒ‡ç´‹: ãªã—   â”‚    â”‚ Cookie: ãªã— â”‚    â”‚ â†’ botåˆ¤å®š â†’ â”‚
â”‚              â”‚    â”‚ æŒ‡ç´‹: ãªã—   â”‚    â”‚ â†’ CAPTCHA   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                    æ‰‹å‹•ä»‹å…¥ãŒåŠ¹ã‹ãªã„
                    ï¼ˆCookieç§»é€ä¸å¯ï¼‰
```

1. **SearXNGã¯ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§å‹•ä½œ**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®Cookie/æŒ‡ç´‹ã‚’ä½¿ç”¨ã§ããªã„
2. **botæ¤œçŸ¥ã•ã‚Œã‚„ã™ã„**: Cookie/æŒ‡ç´‹ãªã—ã®ç´ ã®HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆ
3. **CAPTCHAè§£æ±ºãŒåŠ¹ã‹ãªã„**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ–ãƒ©ã‚¦ã‚¶ã§CAPTCHAè§£æ±ºã—ã¦ã‚‚ã€SearXNGã«Cookieã¯æ¸¡ã‚‰ãªã„
4. **Â§3.6.1æ‰‹å‹•ä»‹å…¥ã®å‰æãŒå´©å£Š**: æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã«å¯¾ã™ã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³è»¢é€ãŒæŠ€è¡“çš„ã«ä¸å¯èƒ½
5. **æŠ—å …æ€§ï¼ˆÂ§4.3ï¼‰ã¨ã®çŸ›ç›¾**: æ¤œç´¢ã¨å–å¾—ã§æŠ—å …æ€§è¨­è¨ˆãŒåˆ†æ–­

**æ ¹æœ¬åŸå› **: SearXNGã¯ã€Œä¾¿åˆ©ã€ã ã£ãŸãŒã€æŠ—å …æ€§ã‚’çŠ ç‰²ã«ã™ã‚‹è¨­è¨ˆã ã£ãŸã€‚

#### ç›®çš„

**æ¤œç´¢çµŒè·¯ã‚’ç›´æ¥ãƒ–ãƒ©ã‚¦ã‚¶æ¤œç´¢ã«ä¸€æœ¬åŒ–ã—ã€æŠ—å …æ€§ã‚’ç¢ºä¿ã™ã‚‹ã€‚**

- æ¤œç´¢ã‚‚å–å¾—ã‚‚åŒã˜ãƒ–ãƒ©ã‚¦ã‚¶çµŒç”±ã§å®Ÿè¡Œ
- Cookie/æŒ‡ç´‹ã®ä¸€è²«æ€§ã‚’ç¶­æŒ
- CAPTCHAç™ºç”Ÿæ™‚ã«æ‰‹å‹•ä»‹å…¥ãŒåŠ¹ã
- ã‚»ãƒƒã‚·ãƒ§ãƒ³è»¢é€ï¼ˆÂ§3.1.2ï¼‰ãŒæ¤œç´¢ã«ã‚‚é©ç”¨å¯èƒ½

#### ã‚ã‚‹ã¹ãå§¿ï¼ˆæŠ€è¡“çš„ã«ãƒ™ã‚¹ãƒˆï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Lancet       â”‚ â†’  â”‚ Playwright   â”‚ â†’ DuckDuckGoç­‰
â”‚ (ç›´æ¥æ¤œç´¢)   â”‚    â”‚ (ãƒ–ãƒ©ã‚¦ã‚¶)   â”‚
â”‚              â”‚    â”‚              â”‚
â”‚              â”‚    â”‚ Cookie: ã‚ã‚Š â”‚
â”‚              â”‚    â”‚ æŒ‡ç´‹: ã‚ã‚Š   â”‚    â†’ äººé–“ã‚‰ã—ã„
â”‚              â”‚    â”‚              â”‚    â†’ CAPTCHAæ™‚ã¯æ‰‹å‹•è§£æ±ºå¯
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                  â”‚
        â–¼                  â–¼
   æ¤œç´¢çµæœãƒ‘ãƒ¼ã‚µãƒ¼   ã‚»ãƒƒã‚·ãƒ§ãƒ³è»¢é€ï¼ˆÂ§3.1.2ï¼‰
   (BeautifulSoup)    ãŒæ¤œç´¢ã«ã‚‚é©ç”¨å¯èƒ½
```

---

#### è¦ä»¶å®šç¾©æ›¸ï¼ˆrequirements.mdï¼‰ä¿®æ­£

**Â§3.2 ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå®Ÿè¡Œæ©Ÿèƒ½ï¼ˆPythonï¼‰**:

```markdown
ã€æ—§ã€‘
- æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³çµ±åˆ: ãƒ­ãƒ¼ã‚«ãƒ«ã§ç¨¼åƒã™ã‚‹SearXNGï¼ˆãƒ¡ã‚¿æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ï¼‰ã«å¯¾ã—ã‚¯ã‚¨ãƒªã‚’é€ä¿¡ã—ã€çµæœã‚’å–å¾—ã™ã‚‹ã€‚

ã€æ–°ã€‘
- æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³çµ±åˆ: PlaywrightçµŒç”±ã§æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã‚’ç›´æ¥æ¤œç´¢ã™ã‚‹ã€‚
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ–ãƒ©ã‚¦ã‚¶ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆCookie/æŒ‡ç´‹ï¼‰ã‚’ä½¿ç”¨ã—ã€äººé–“ã‚‰ã—ã„æ¤œç´¢ã‚’å®Ÿç¾
  - å¯¾å¿œã‚¨ãƒ³ã‚¸ãƒ³: DuckDuckGo, Google, Bing, mojeekï¼ˆæ¤œç´¢çµæœãƒ‘ãƒ¼ã‚µãƒ¼å®Ÿè£…ï¼‰
  - CAPTCHAç™ºç”Ÿæ™‚ã¯æ‰‹å‹•ä»‹å…¥ãƒ•ãƒ­ãƒ¼ï¼ˆÂ§3.6.1ï¼‰ã«ç§»è¡Œã—ã€è§£æ±ºå¾Œã«æ¤œç´¢ã‚’ç¶™ç¶š
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³è»¢é€ï¼ˆÂ§3.1.2ï¼‰ãŒæ¤œç´¢ã«ã‚‚é©ç”¨ã•ã‚Œã€æŠ—å …æ€§ã‚’ç¢ºä¿

ã€å»ƒæ­¢ã€‘SearXNG:
- ç†ç”±: ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§å‹•ä½œã™ã‚‹ãŸã‚ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®Cookie/æŒ‡ç´‹ã‚’ä½¿ç”¨ã§ããªã„ã€‚
  botæ¤œçŸ¥ã•ã‚Œã‚„ã™ãã€CAPTCHAç™ºç”Ÿæ™‚ã®æ‰‹å‹•ä»‹å…¥ï¼ˆÂ§3.6.1ï¼‰ãŒæŠ€è¡“çš„ã«åŠ¹ã‹ãªã„ã€‚
  æŠ—å …æ€§ï¼ˆÂ§4.3ï¼‰ã®è¨­è¨ˆæ„å›³ã¨çŸ›ç›¾ã™ã‚‹ãŸã‚å»ƒæ­¢ã€‚
```

**Â§3.1.2 ã‚»ãƒƒã‚·ãƒ§ãƒ³ç§»é€ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ è¿½è¨˜**:

```markdown
ã€è¿½è¨˜ã€‘
- æ¤œç´¢ã¸ã®é©ç”¨: æ¤œç´¢ã‚‚å–å¾—ã‚‚ãƒ–ãƒ©ã‚¦ã‚¶çµŒç”±ã§å®Ÿè¡Œã™ã‚‹ãŸã‚ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ç§»é€ãŒå…¨çµŒè·¯ã§æœ‰åŠ¹ã€‚
  æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã§CAPTCHAè§£æ±ºå¾Œã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¯ã€åŒä¸€ã‚¨ãƒ³ã‚¸ãƒ³ã¸ã®å¾Œç¶šæ¤œç´¢ã§å†åˆ©ç”¨å¯èƒ½ã€‚
```

**Â§4.3 æŠ—å …æ€§ãƒ»ã‚¹ãƒ†ãƒ«ã‚¹æ€§ è¿½è¨˜**:

```markdown
ã€è¿½è¨˜ã€‘
- æ¤œç´¢çµŒè·¯ã®ä¸€æœ¬åŒ–: æ¤œç´¢ã‚‚å–å¾—ã‚‚åŒã˜ãƒ–ãƒ©ã‚¦ã‚¶çµŒç”±ã§å®Ÿè¡Œã—ã€æŠ—å …æ€§è¨­è¨ˆã‚’ä¸€è²«ã•ã›ã‚‹ã€‚
  ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã®ãƒ¡ã‚¿æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆSearXNGç­‰ï¼‰ã¯ä½¿ç”¨ã—ãªã„ã€‚
```

---

#### å½±éŸ¿ç¯„å›²

**å¤‰æ›´ãŒå¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆæ¤œç´¢éƒ¨åˆ†ã®ã¿ï¼‰**:

| ãƒ•ã‚¡ã‚¤ãƒ« | å¤‰æ›´å†…å®¹ | å·¥æ•° |
|---------|---------|------|
| `src/search/browser_search_provider.py` | **æ–°è¦ä½œæˆ**: PlaywrightçµŒç”±ã®æ¤œç´¢ | å¤§ |
| `src/search/search_parsers.py` | **æ–°è¦ä½œæˆ**: æ¤œç´¢çµæœHTMLãƒ‘ãƒ¼ã‚µãƒ¼ | å¤§ |
| `src/search/searxng.py` | å»ƒæ­¢äºˆå®šãƒãƒ¼ã‚¯ã€å¾Œæ–¹äº’æ›ç¶­æŒ | å° |
| `src/search/searxng_provider.py` | å»ƒæ­¢äºˆå®šãƒãƒ¼ã‚¯ | å° |
| `src/search/provider.py` | BrowserSearchProviderç™»éŒ² | å° |
| `src/search/__init__.py` | ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå¤‰æ›´ | å° |
| `src/search/engine_config.py` | ãƒ‘ãƒ¼ã‚µãƒ¼è¨­å®šè¿½åŠ  | ä¸­ |
| `tests/test_browser_search.py` | **æ–°è¦ä½œæˆ**: ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ | ä¸­ |
| `tests/test_search_parsers.py` | **æ–°è¦ä½œæˆ**: ãƒ‘ãƒ¼ã‚µãƒ¼ãƒ†ã‚¹ãƒˆ | ä¸­ |
| `tests/test_e2e.py` | æ¤œç´¢ãƒ†ã‚¹ãƒˆä¿®æ­£ | å° |
| `podman-compose.yml` | SearXNGã‚³ãƒ³ãƒ†ãƒŠå‰Šé™¤ï¼ˆæœ€çµ‚æ®µéšï¼‰ | å° |
| `requirements.md` | Â§3.2, Â§3.1.2, Â§4.3 ä¿®æ­£ | å° |

**å¤‰æ›´ä¸è¦ï¼ˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ç¶­æŒï¼‰**:

| ãƒ•ã‚¡ã‚¤ãƒ« | ç†ç”± |
|---------|------|
| `src/mcp/server.py` | `search_serp()`ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ç¶­æŒ |
| `src/scheduler/jobs.py` | åŒä¸Š |
| `src/research/executor.py` | åŒä¸Š |
| `src/research/refutation.py` | åŒä¸Š |
| `src/search/ab_test.py` | åŒä¸Š |
| `src/main.py` | åŒä¸Š |
| ãã®ä»–50,000è¡Œ | æ¤œç´¢ä»¥å¤–ã¯å½±éŸ¿ãªã— |

---

#### å®Ÿè£…ã‚¿ã‚¹ã‚¯

**Phase 16.9.1: ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—æ¤œè¨¼** âœ…
- [x] DuckDuckGo 1ã‚¨ãƒ³ã‚¸ãƒ³ã§ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—å®Ÿè£…
- [x] PlaywrightçµŒç”±ã®æ¤œç´¢å‹•ä½œç¢ºèª
- [x] CAPTCHAç™ºç”Ÿâ†’æ‰‹å‹•è§£æ±ºâ†’æ¤œç´¢ç¶™ç¶šã®ãƒ•ãƒ­ãƒ¼æ¤œè¨¼ï¼ˆInterventionManageré€£æºå®Ÿè£…æ¸ˆã¿ï¼‰
- [x] ã‚»ãƒƒã‚·ãƒ§ãƒ³è»¢é€ãŒåŠ¹ãã“ã¨ã‚’ç¢ºèªï¼ˆBrowserSearchSessionå®Ÿè£…æ¸ˆã¿ï¼‰

**Phase 16.9.2: BrowserSearchProviderå®Ÿè£…** âœ…
- [x] `BrowserSearchProvider` ã‚¯ãƒ©ã‚¹
  - `BaseSearchProvider` ç¶™æ‰¿
  - Playwrightã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
  - ãƒ–ãƒ©ã‚¦ã‚¶ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ä½¿ç”¨ï¼ˆCDPæ¥ç¶šå¯¾å¿œï¼‰
  - CAPTCHAæ¤œçŸ¥â†’InterventionQueueé€£æº
- [x] `search(query, options) -> SearchResponse`
  - ã‚¨ãƒ³ã‚¸ãƒ³åˆ¥URLæ§‹ç¯‰
  - æ¤œç´¢å®Ÿè¡Œ
  - çµæœãƒ‘ãƒ¼ã‚¹
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±ä¿å­˜

**Phase 16.9.3: æ¤œç´¢çµæœãƒ‘ãƒ¼ã‚µãƒ¼å®Ÿè£…** âœ…
- [x] `SearchResultParser` åŸºåº•ã‚¯ãƒ©ã‚¹ï¼ˆ`BaseSearchParser`ï¼‰
- [x] `DuckDuckGoParser` - DDGçµæœãƒ‘ãƒ¼ã‚¹
- [x] `GoogleParser` - Googleçµæœãƒ‘ãƒ¼ã‚¹
- [x] `MojeekParser` - mojeekçµæœãƒ‘ãƒ¼ã‚¹
- [x] `QwantParser`, `BraveParser` - è¿½åŠ ã‚¨ãƒ³ã‚¸ãƒ³å¯¾å¿œ
- [x] ãƒ‘ãƒ¼ã‚µãƒ¼ãƒ¬ã‚¸ã‚¹ãƒˆãƒªï¼ˆã‚¨ãƒ³ã‚¸ãƒ³â†’ãƒ‘ãƒ¼ã‚µãƒ¼å¯¾å¿œï¼‰
- [x] ã‚»ãƒ¬ã‚¯ã‚¿å¤–éƒ¨åŒ–ï¼ˆ`config/search_parsers.yaml`ï¼‰
- [x] AIä¿®æ­£ç”¨è¨ºæ–­ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¨­è¨ˆ

**Phase 16.9.4: çµ±åˆãƒ»ç§»è¡Œ** âœ…
- [x] `SearchProviderRegistry` ã«BrowserSearchProviderç™»éŒ²
- [x] ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ—ãƒ­ãƒã‚¤ãƒ€ã‚’BrowserSearchProviderã«å¤‰æ›´ï¼ˆ`search.use_browser`ãƒ•ãƒ©ã‚°ï¼‰
- [x] `searxng.py`, `searxng_provider.py` ã‚’å»ƒæ­¢äºˆå®šãƒãƒ¼ã‚¯
- [x] æ–°è¦ãƒ†ã‚¹ãƒˆè¿½åŠ ï¼ˆ53ä»¶å…¨ãƒ‘ã‚¹ï¼‰
- [x] å…¨ãƒ†ã‚¹ãƒˆå›å¸°ãªã—ï¼ˆ2097ä»¶ãƒ‘ã‚¹ï¼‰

**Phase 16.9.5: SearXNGå®Œå…¨å»ƒæ­¢ï¼ˆæœ€çµ‚æ®µéšï¼‰** âœ…
- [x] SearXNGã‚³ãƒ³ãƒ†ãƒŠå‰Šé™¤ï¼ˆpodman-compose.ymlï¼‰
- [x] SearXNGé–¢é€£ã‚³ãƒ¼ãƒ‰å‰Šé™¤
  - `src/search/searxng.py` ã‹ã‚‰ `SearXNGClient` ã‚¯ãƒ©ã‚¹å‰Šé™¤
  - `src/search/searxng_provider.py` å‰Šé™¤
  - `config/searxng/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå‰Šé™¤
  - `tests/conftest.py` ã‹ã‚‰ SearXNG ãƒ¢ãƒƒã‚¯å‰Šé™¤
  - `tests/test_search.py` ã‹ã‚‰ `TestSearXNGClient`, `TestSearchSerp` å‰Šé™¤
- [x] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°

---

#### ãƒ†ã‚¹ãƒˆè¨ˆç”»

**ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼ˆãƒ¢ãƒƒã‚¯ä½¿ç”¨ï¼‰** âœ…:
- [x] `test_browser_search_provider.py` (22ãƒ†ã‚¹ãƒˆ)
  - `test_search_success`: åŸºæœ¬æ¤œç´¢
  - `test_captcha_detection`: CAPTCHAæ¤œçŸ¥
  - `test_search_timeout`: ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå‡¦ç†
  - `test_health_status_*`: ãƒ˜ãƒ«ã‚¹ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ¤œè¨¼
  - `test_session_*`: ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
- [x] `test_search_parsers.py` (31ãƒ†ã‚¹ãƒˆ)
  - `test_duckduckgo_parser_*`: DDGãƒ‘ãƒ¼ã‚¹ï¼ˆHTMLãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£ä½¿ç”¨ï¼‰
  - `test_mojeek_parser_*`: mojeekãƒ‘ãƒ¼ã‚¹
  - `test_empty_html`: ç©ºHTMLè€æ€§
  - `test_malformed_html`: ä¸æ­£HTMLè€æ€§
  - `test_captcha_detection_patterns`: CAPTCHAãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œçŸ¥
  - `test_source_classification`: ã‚½ãƒ¼ã‚¹åˆ†é¡

**E2Eãƒ†ã‚¹ãƒˆï¼ˆä½ãƒªã‚¹ã‚¯IPç’°å¢ƒã§å®Ÿæ–½ï¼‰** â†’ Phase 16.10ã¸:
- [x] `test_browser_search_e2e`: å®Ÿéš›ã®æ¤œç´¢å‹•ä½œ âœ… **æ‰‹å‹•æ¤œè¨¼å®Œäº†ï¼ˆ2024-11-28ï¼‰**
- [ ] `test_captcha_resolution_flow`: CAPTCHAè§£æ±ºãƒ•ãƒ­ãƒ¼ï¼ˆä»Šå›ã¯CAPTCHAç™ºç”Ÿã›ãšï¼‰
- [ ] `test_search_then_fetch`: æ¤œç´¢â†’å–å¾—ã®ä¸€è²«æ€§

**æ‰‹å‹•E2Eæ¤œè¨¼çµæœï¼ˆ2024-11-28ï¼‰**:

| é …ç›® | çµæœ | å‚™è€ƒ |
|------|------|------|
| CDPæ¥ç¶š | âœ… æˆåŠŸ | Windows Chrome 142.0ã¸æ¥ç¶š |
| DuckDuckGoæ¤œç´¢ | âœ… æˆåŠŸ | 5ä»¶å–å¾—ã€3.4ç§’ã€botæ¤œçŸ¥ãªã— |
| ãƒ‘ãƒ¼ã‚µãƒ¼ | âœ… æˆåŠŸ | 10ä»¶ãƒ‘ãƒ¼ã‚¹ â†’ 5ä»¶è¿”å´ |
| Stealthå½è£… | âœ… æ©Ÿèƒ½ | botæ¤œçŸ¥ã•ã‚Œãšæ¤œç´¢æˆåŠŸ |
| ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç† | âœ… æ©Ÿèƒ½ | BrowserSearchSessionä½œæˆã€CAPTCHA=0 |
| CAPTCHAèª˜å° | â³ æœªæ¤œè¨¼ | ä»Šå›ã¯CAPTCHAç™ºç”Ÿã›ãš |
| ã‚»ãƒƒã‚·ãƒ§ãƒ³è»¢é€ | â³ æœªæ¤œè¨¼ | æ¤œç´¢ã®ã¿ã®ãŸã‚æœªä½¿ç”¨ |

**AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ã‚ˆã‚‹WSL2ã‹ã‚‰ã®æ¤œè¨¼ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †**:

1. **å°‚ç”¨Chromeãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ**ï¼ˆGoogleã‚¢ã‚«ã‚¦ãƒ³ãƒˆæœªãƒ­ã‚°ã‚¤ãƒ³æ¨å¥¨ï¼‰

2. **âš ï¸ é‡è¦: ã™ã¹ã¦ã®Chromeã‚’å®Œå…¨çµ‚äº†**
   ```powershell
   Stop-Process -Name chrome -Force -ErrorAction SilentlyContinue
   ```
   > **æ³¨æ„**: æ—¢å­˜ã®Chromeãƒ—ãƒ­ã‚»ã‚¹ãŒæ®‹ã£ã¦ã„ã‚‹ã¨ã€æ–°è¦èµ·å‹•ãŒæ—¢å­˜ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«çµ±åˆã•ã‚Œã€
   > ãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ãƒãƒƒã‚°ãƒãƒ¼ãƒˆãŒé–‹ã‹ãªã„ã€‚ã‚¿ã‚¹ã‚¯ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã§chromeãƒ—ãƒ­ã‚»ã‚¹ãŒ0ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã€‚

3. **Chromeã‚’ãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã§èµ·å‹•**ï¼ˆPowerShellï¼‰:
   ```powershell
   & "C:\Program Files\Google\Chrome\Application\chrome.exe" --remote-debugging-port=9222 "--user-data-dir=C:\Users\<USERNAME>\AppData\Local\Google\Chrome\User Data" --profile-directory=Profile-Research
   ```
   > **æ³¨æ„**: `--remote-debugging-address=0.0.0.0`ã¯ä¸è¦ã€‚ãƒãƒ¼ãƒˆãƒ—ãƒ­ã‚­ã‚·ã§å¯¾å¿œã™ã‚‹ã€‚

4. **èµ·å‹•ç¢ºèª**ï¼ˆWindowså´ã§å®Ÿè¡Œï¼‰:
   ```powershell
   curl http://localhost:9222/json/version
   ```
   â†’ JSONãŒè¿”ã‚Œã°æˆåŠŸã€‚å¤±æ•—ã™ã‚‹å ´åˆã¯æ‰‹é †2ã«æˆ»ã‚‹ã€‚

5. **ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¨­å®š**ï¼ˆåˆå›ã®ã¿ã€ç®¡ç†è€…PowerShellï¼‰:
   ```powershell
   # WSL2ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤IPç¢ºèªï¼ˆWSL2å´ã§å®Ÿè¡Œ: ip route | grep default | awk '{print $3}'ï¼‰
   # ä¾‹: 172.29.224.1
   
   # ãƒãƒ¼ãƒˆãƒ—ãƒ­ã‚­ã‚·è¨­å®š
   netsh interface portproxy add v4tov4 listenaddress=<WSL2_GATEWAY_IP> listenport=9222 connectaddress=127.0.0.1 connectport=9222
   
   # ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ãƒ«ãƒ¼ãƒ«
   New-NetFirewallRule -DisplayName "Chrome Debug WSL2" -Direction Inbound -LocalPort 9222 -Protocol TCP -Action Allow
   ```

6. **ç’°å¢ƒå¤‰æ•°è¨­å®š**ï¼ˆåˆå›ã®ã¿ã€`.env`ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰:
   ```bash
   # .env.example ã‚’ .env ã«ã‚³ãƒ”ãƒ¼ã—ã¦ç·¨é›†
   cp .env.example .env
   # WSL2ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤IPã‚’è¨­å®š
   echo "LANCET_BROWSER__CHROME_HOST=<WSL2_GATEWAY_IP>" >> .env
   ```
   â€» `settings.yaml`ã¯å¤‰æ›´ä¸è¦ï¼ˆ`.env`ãŒå„ªå…ˆã•ã‚Œã‚‹ï¼‰

7. **ã‚³ãƒ³ãƒ†ãƒŠå†èµ·å‹•**ï¼ˆåˆå›ã®ã¿ã€`.env`åæ˜ ï¼‰: `./scripts/dev.sh down && ./scripts/dev.sh up`

8. **ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ**: `podman exec lancet python tests/scripts/verify_browser_search.py`

**ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**:

| ç—‡çŠ¶ | åŸå›  | å¯¾å‡¦ |
|------|------|------|
| `curl localhost:9222` ãŒå¤±æ•— | æ—¢å­˜ChromeãŒæ®‹ã£ã¦ã„ã‚‹ | æ‰‹é †2ã§ã™ã¹ã¦ã®Chromeã‚’çµ‚äº† |
| `netstat`ã§127.0.0.1:9222ãŒè¦‹ãˆãªã„ | åŒä¸Š | åŒä¸Š |
| WSL2ã‹ã‚‰æ¥ç¶šã§ããªã„ | ãƒãƒ¼ãƒˆãƒ—ãƒ­ã‚­ã‚·æœªè¨­å®š | æ‰‹é †5ã‚’å®Ÿè¡Œ |
| Podmanã‹ã‚‰æ¥ç¶šã§ããªã„ | `.env`æœªè¨­å®š or ã‚³ãƒ³ãƒ†ãƒŠæœªå†èµ·å‹• | æ‰‹é †6,7ã‚’å®Ÿè¡Œ |

---

#### æˆåŠŸåŸºæº–

| åŸºæº– | ç›®æ¨™ |
|------|------|
| **CAPTCHAå¯¾å¿œ** | æ‰‹å‹•è§£æ±ºå¾Œã®æ¤œç´¢ç¶™ç¶šç‡ 100% |
| **ã‚»ãƒƒã‚·ãƒ§ãƒ³è»¢é€** | æ¤œç´¢ã§ã‚‚ã‚»ãƒƒã‚·ãƒ§ãƒ³å†åˆ©ç”¨ãŒæ©Ÿèƒ½ |
| **æŠ—å …æ€§** | æ¤œç´¢ãƒ»å–å¾—ã§ä¸€è²«ã—ãŸCookie/æŒ‡ç´‹ä½¿ç”¨ |
| **å¾Œæ–¹äº’æ›** | `search_serp()`ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ç¶­æŒ |
| **ãƒ†ã‚¹ãƒˆ** | æ—¢å­˜ãƒ†ã‚¹ãƒˆ + æ–°è¦ãƒ†ã‚¹ãƒˆå…¨ãƒ‘ã‚¹ |

---

#### ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨ˆç”»

SearXNGã¯æœ€çµ‚æ®µéšã¾ã§æ®‹ã™ãŸã‚ã€å•é¡Œç™ºç”Ÿæ™‚ã¯ä»¥ä¸‹ã§å¯¾å¿œï¼š

1. `SearchProviderRegistry` ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’`SearXNGProvider`ã«æˆ»ã™
2. `config/settings.yaml` ã« `search.use_browser: false` ãƒ•ãƒ©ã‚°è¿½åŠ 
3. ãƒ•ãƒ©ã‚°ã«å¿œã˜ã¦ãƒ—ãƒ­ãƒã‚¤ãƒ€ã‚’åˆ‡ã‚Šæ›¿ãˆ

---

### 16.10 E2Eãƒ†ã‚¹ãƒˆè¨­è¨ˆãƒ»å®Ÿè£… ğŸ”´

> **ä¾å­˜**: Phase 16.9ï¼ˆæ¤œç´¢çµŒè·¯ã®å†è¨­è¨ˆï¼‰å®Œäº†å¾Œã«å®Ÿæ–½
> **èƒŒæ™¯**: Phase 14.3.2 å‚ç…§

#### 16.10.1 ãƒ†ã‚¹ãƒˆåŸºç›¤è¨­è¨ˆ

##### E2Eãƒ†ã‚¹ãƒˆã®æŠ€è¡“æ–¹é‡ï¼ˆpytest vs ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼‰

| åˆ†é¡ | æ–¹å¼ | é…ç½® | å®Ÿè¡Œæ–¹æ³• | ç”¨é€” |
|------|------|------|----------|------|
| **è‡ªå‹•E2E** | pytest | `tests/test_e2e_*.py` | `pytest -m e2e` | ãƒ¢ãƒƒã‚¯å¯èƒ½ã€CIå®Ÿè¡Œå¯ |
| **æ‰‹å‹•æ¤œè¨¼** | ã‚¹ã‚¯ãƒªãƒ—ãƒˆ | `tests/scripts/verify_*.py` | `python tests/scripts/verify_*.py` | å¯¾è©±çš„ã€äººãŒå®Ÿè¡Œ |

**pytestæ–¹å¼ã‚’é¸ã¶åŸºæº–**:
- å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã‚’ãƒ¢ãƒƒã‚¯å¯èƒ½
- å¯¾è©±çš„æ“ä½œãŒä¸è¦
- CI/CDã§è‡ªå‹•å®Ÿè¡Œã—ãŸã„
- ãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£ãƒ»ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã‚’å†åˆ©ç”¨ã—ãŸã„

**ã‚¹ã‚¯ãƒªãƒ—ãƒˆæ–¹å¼ã‚’é¸ã¶åŸºæº–**:
- CAPTCHAè§£æ±ºãªã©æ‰‹å‹•ä»‹å…¥ãŒå¿…é ˆ
- å®Ÿè¡Œç’°å¢ƒï¼ˆIPã€Chromeãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã«å¼·ãä¾å­˜
- å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’äººãŒåˆ¶å¾¡ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
- CIã‹ã‚‰é™¤å¤–ã™ã¹ãï¼ˆIPæ±šæŸ“ãƒªã‚¹ã‚¯ï¼‰

##### ãƒ†ã‚¹ãƒˆåˆ†é¡ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

- [ ] **unit/integration/e2eã®å¢ƒç•Œå®šç¾©**
  - unit: å˜ä¸€ã‚¯ãƒ©ã‚¹/é–¢æ•°ã€å¤–éƒ¨ä¾å­˜ãªã—
  - integration: è¤‡æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé€£æºã€å¤–éƒ¨ã¯ãƒ¢ãƒƒã‚¯
  - e2e: å®Ÿã‚µãƒ¼ãƒ“ã‚¹ä½¿ç”¨ï¼ˆä½ãƒªã‚¹ã‚¯IPç’°å¢ƒé™å®šï¼‰
- [ ] **å„ãƒãƒ¼ã‚«ãƒ¼ã®æ„å‘³ã¨ä½¿ç”¨åŸºæº–**
  - `@pytest.mark.unit`: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå®Ÿè¡Œã€é«˜é€Ÿï¼ˆ<1ç§’/ãƒ†ã‚¹ãƒˆï¼‰
  - `@pytest.mark.integration`: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå®Ÿè¡Œã€ä¸­é€Ÿï¼ˆ<5ç§’/ãƒ†ã‚¹ãƒˆï¼‰
  - `@pytest.mark.e2e`: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆé™¤å¤–ã€`-m e2e`ã§æ˜ç¤ºå®Ÿè¡Œ
  - `@pytest.mark.slow`: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆé™¤å¤–ã€`-m slow`ã§æ˜ç¤ºå®Ÿè¡Œ

##### ãƒªã‚¹ã‚¯ãƒ™ãƒ¼ã‚¹ãƒãƒ¼ã‚«ãƒ¼

- [ ] **è¿½åŠ ãƒãƒ¼ã‚«ãƒ¼å®Ÿè£…**
  - `@external`: å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ä½¿ç”¨ï¼ˆmojeekç­‰ãƒ–ãƒ­ãƒƒã‚¯è€æ€§é«˜ï¼‰
  - `@rate_limited`: ãƒ¬ãƒ¼ãƒˆåˆ¶é™å³ã—ã„ï¼ˆDuckDuckGoç­‰ï¼‰
- [ ] **conftest.pyè¨­å®š**
  - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `-m "not e2e and not slow"`
  - `--run-e2e`: E2Eãƒ†ã‚¹ãƒˆå«ã‚€
  - `--run-all`: å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

##### E2Eå®Ÿè¡Œç’°å¢ƒ

- [ ] **ä½ãƒªã‚¹ã‚¯IPç’°å¢ƒã®è¦ä»¶**
  - è‡ªå®…å›ç·šï¼ˆå›ºå®šIPæ¨å¥¨ï¼‰
  - VPNï¼ˆä¿¡é ¼æ€§ã®é«˜ã„ã‚‚ã®ï¼‰
  - æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã‹ã‚‰ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¦ã„ãªã„IP
- [ ] **å®Ÿè¡Œå‰ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ**
  - IPç¢ºèªï¼ˆ`curl ifconfig.me`ï¼‰
  - ã‚¨ãƒ³ã‚¸ãƒ³å¥å…¨æ€§ç¢ºèªï¼ˆæ‰‹å‹•ã§1ä»¶æ¤œç´¢ï¼‰
  - Chromeãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«æº–å‚™

#### 16.10.2 pytest E2Eï¼ˆè‡ªå‹•å®Ÿè¡Œå¯èƒ½ï¼‰

- [ ] **LLMé€£æºE2E**
  - `test_e2e_llm.py`: å®ŸOllamaã§ã®ã‚¯ãƒ¬ãƒ¼ãƒ åˆ†è§£ãƒ»NLIãƒ»è¦ç´„
  - ãƒ¢ãƒƒã‚¯: Ollamaãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä½¿ç”¨å¯
- [ ] **ãƒ•ãƒ«ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³E2E**
  - `test_e2e_pipeline.py`: æ¤œç´¢â†’æŠ½å‡ºâ†’åˆ†æâ†’ãƒ¬ãƒãƒ¼ãƒˆ
  - ãƒ¢ãƒƒã‚¯: æ¤œç´¢çµæœHTML/Ollamaãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ

#### 16.10.3 æ‰‹å‹•æ¤œè¨¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆtests/scripts/ï¼‰

å¯¾è©±çš„æ“ä½œã‚„ç‰¹æ®Šãªå®Ÿè¡Œç’°å¢ƒãŒå¿…è¦ãªãƒ†ã‚¹ãƒˆã€‚pytestã§ã¯ãªãã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨ã—ã¦å®Ÿè£…ã€‚

| ã‚¹ã‚¯ãƒªãƒ—ãƒˆ | æ¤œè¨¼å†…å®¹ | çŠ¶æ…‹ |
|-----------|----------|------|
| `verify_browser_search.py` | CDPæ¥ç¶šã€æ¤œç´¢å‹•ä½œã€Stealthã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç† | âœ… å®Œäº† |
| `verify_captcha_flow.py` | CAPTCHAæ¤œçŸ¥â†’é€šçŸ¥â†’æ‰‹å‹•è§£æ±ºâ†’ç¶™ç¶š | â³ æœªå®Ÿè£… |
| `verify_session_transfer.py` | ãƒ–ãƒ©ã‚¦ã‚¶â†’HTTPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆé–“ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ç§»é€ | â³ æœªå®Ÿè£… |
| `verify_search_then_fetch.py` | æ¤œç´¢â†’å–å¾—ã®ä¸€è²«æ€§ï¼ˆåŒä¸€ã‚»ãƒƒã‚·ãƒ§ãƒ³ç¶­æŒï¼‰ | â³ æœªå®Ÿè£… |

**å®Ÿè¡Œæ–¹æ³•**:
```bash
# Chromeã‚’ãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã§èµ·å‹•ï¼ˆWindowså´ï¼‰
# â†’ IMPLEMENTATION_PLAN.md 16.9ã€Œæ¤œè¨¼ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ã€å‚ç…§

# ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
podman exec lancet python tests/scripts/verify_browser_search.py
```

#### 16.10.4 ãƒ¢ãƒƒã‚¯åŒ–æˆ¦ç•¥ï¼ˆCIå®‰å®šåŒ–ï¼‰

- [ ] **VCR/ãƒ¬ã‚³ãƒ¼ãƒ‰å†ç”Ÿæ–¹å¼ã®å°å…¥**
  - `tests/fixtures/vcr_cassettes/`ã«å¤–éƒ¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¿å­˜
  - æ¤œç´¢çµæœHTMLã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ
  - Ollamaãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ
- [ ] **ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿæ§‹**
  - `LANCET_USE_MOCK_SERVICES=1`ã§ãƒ¢ãƒƒã‚¯åˆ‡æ›¿
  - CIã§ã¯ãƒ¢ãƒƒã‚¯ä½¿ç”¨ã€ãƒ­ãƒ¼ã‚«ãƒ«E2Eã§ã¯å®Ÿã‚µãƒ¼ãƒ“ã‚¹

#### 16.10.5 ãã®ä»–

- [ ] ãƒŸãƒ¥ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ

---

## Phase 17: ä¿å®ˆæ€§ãƒ»æ‹¡å¼µæ€§æ”¹å–„ â³

**ç›®çš„**: å¤–éƒ¨ä¾å­˜ã®å¤‰æ›´ã«å¯¾ã™ã‚‹è€æ€§å‘ä¸Šã¨ã€å°†æ¥ã®æ©Ÿèƒ½æ‹¡å¼µã‚’å®¹æ˜“ã«ã™ã‚‹ãŸã‚ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã€‚

**é‡è¦**: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ã‚¿ã‚¹ã‚¯ã®å®Œäº†åŸºæº–ã¯ã€Œ**æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã¸ã®ç§»è¡Œå®Œäº†**ã€ã¾ã§ã‚’å«ã‚€ã€‚
åŸºç›¤å®Ÿè£…ã®ã¿ã§å®Œäº†ã¨ã›ãšã€å…¨å‘¼ã³å‡ºã—ç®‡æ‰€ãŒæ–°ã—ã„æŠ½è±¡åŒ–ã‚’çµŒç”±ã™ã‚‹ã¾ã§ç¶™ç¶šã™ã‚‹ã“ã¨ã€‚

---

### 17.1 ãƒ—ãƒ­ãƒã‚¤ãƒ€æŠ½è±¡åŒ– ğŸ”´

å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã¸ã®ç›´æ¥ä¾å­˜ã‚’æŠ½è±¡åŒ–ã—ã€å®Ÿè£…ã®åˆ‡ã‚Šæ›¿ãˆã‚’å®¹æ˜“ã«ã™ã‚‹ã€‚
**å®Œäº†åŸºæº–**: Protocol/Registryå®Ÿè£… + å…¨å‘¼ã³å‡ºã—ç®‡æ‰€ã®ProviderçµŒç”±ã¸ã®ç§»è¡Œã€‚

#### 17.1.1 SearchProvideræŠ½è±¡åŒ– âœ…
- [x] `SearchProvider` ãƒ—ãƒ­ãƒˆã‚³ãƒ«/ABCå®šç¾©
  - `search(query, options) -> SearchResponse`
  - `get_health() -> HealthStatus`
- [x] `SearchResult`, `SearchResponse`, `SearchOptions` ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹
- [x] `SearXNGProvider` å®Ÿè£…ï¼ˆç¾è¡Œã‚³ãƒ¼ãƒ‰ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ï¼‰
- [x] `SearchProviderRegistry` ãƒ—ãƒ­ãƒã‚¤ãƒ€ç™»éŒ²ãƒ»åˆ‡æ›¿æ©Ÿæ§‹
  - ãƒ—ãƒ­ãƒã‚¤ãƒ€ç™»éŒ²/è§£é™¤
  - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ—ãƒ­ãƒã‚¤ãƒ€ç®¡ç†
  - ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿæ§‹ä»˜ãæ¤œç´¢
- [x] `search_serp`é–¢æ•°ã¸ã®çµ±åˆï¼ˆ`use_provider=True`ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
- [x] ãƒ†ã‚¹ãƒˆ: 59ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ã€Â§7.1æº–æ‹ ï¼‰
- å®Ÿè£…: `src/search/provider.py`, `src/search/searxng_provider.py`
- [x] **æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã®ProviderçµŒç”±ã¸ã®ç§»è¡Œï¼ˆå®Œäº†ï¼‰**
  - `src/mcp/server.py`: `from src.search import search_serp`
  - `src/scheduler/jobs.py`: `from src.search import search_serp`
  - `src/research/refutation.py`: `from src.search import search_serp`
  - `src/search/ab_test.py`: `from src.search import search_serp`
  - `src/main.py`: `from src.search import search_serp`
  - `src/research/executor.py`: `from src.search import search_serp`
  - `src/search/__init__.py`: ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ•´ç†å®Œäº†

#### 17.1.2 LLMProvideræŠ½è±¡åŒ– âœ…
- [x] `LLMProvider` ãƒ—ãƒ­ãƒˆã‚³ãƒ«/ABCå®šç¾©
  - `generate(prompt, options) -> LLMResponse`
  - `chat(messages, options) -> LLMResponse`
  - `embed(texts) -> EmbeddingResponse`
  - `get_model_info(model) -> ModelInfo`
  - `list_models() -> list[ModelInfo]`
  - `get_health() -> LLMHealthStatus`
  - `unload_model(model) -> bool`
- [x] `LLMOptions`, `ChatMessage`, `LLMResponse`, `EmbeddingResponse`, `ModelInfo`, `LLMHealthStatus` ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹
- [x] `OllamaProvider` å®Ÿè£…ï¼ˆç¾è¡Œã‚³ãƒ¼ãƒ‰ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ï¼‰
- [x] `LLMProviderRegistry` ãƒ—ãƒ­ãƒã‚¤ãƒ€ç™»éŒ²ãƒ»åˆ‡æ›¿ãƒ»ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿæ§‹
- [x] æ—¢å­˜`llm.py`é–¢æ•°ã¨ã®å¾Œæ–¹äº’æ›æ€§ç¶­æŒï¼ˆOllamaClientãƒ©ãƒƒãƒ‘ãƒ¼ï¼‰
- [x] **æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã®ç§»è¡Œå®Œäº†**: `llm.py`ãŒå¾Œæ–¹äº’æ›ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨ã—ã¦Providerå†…éƒ¨ä½¿ç”¨
- [x] ãƒ†ã‚¹ãƒˆ: 62ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ã€Â§7.1æº–æ‹ ï¼‰
- å°†æ¥ã®æ‹¡å¼µå€™è£œ: `LlamaCppProvider`, `VLLMProvider`
- å®Ÿè£…: `src/filter/provider.py`, `src/filter/ollama_provider.py`
- å½±éŸ¿ç¯„å›²: `src/filter/llm.py`

#### 17.1.3 BrowserProvideræŠ½è±¡åŒ– âœ…
- [x] `BrowserProvider` ãƒ—ãƒ­ãƒˆã‚³ãƒ«/ABCå®šç¾©
  - `navigate(url, options) -> PageResult`
  - `execute_script(script) -> Any`
  - `get_cookies() -> list[Cookie]`
  - `set_cookies(cookies) -> None`
  - `take_screenshot(path, full_page) -> str | None`
  - `get_health() -> BrowserHealthStatus`
  - `close() -> None`
- [x] `BrowserOptions`, `PageResult`, `Cookie`, `BrowserHealthStatus` ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹
- [x] `PlaywrightProvider` å®Ÿè£…ï¼ˆç¾è¡Œã‚³ãƒ¼ãƒ‰ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ï¼‰
- [x] `UndetectedChromeProvider` å®Ÿè£…ï¼ˆç¾è¡Œã‚³ãƒ¼ãƒ‰ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ï¼‰
- [x] `BrowserProviderRegistry` ãƒ—ãƒ­ãƒã‚¤ãƒ€ç™»éŒ²ãƒ»åˆ‡æ›¿ãƒ»ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿæ§‹
- [x] æ—¢å­˜`fetcher.py`ã¨ã®å¾Œæ–¹äº’æ›æ€§ç¶­æŒï¼ˆ`use_provider`ãƒãƒªã‚·ãƒ¼ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
- [x] **æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã®ç§»è¡Œå®Œäº†**: `fetcher.py`ãŒProviderå†…éƒ¨ä½¿ç”¨
- [x] ãƒ†ã‚¹ãƒˆ: 44ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ã€Â§7.1æº–æ‹ ï¼‰
- å®Ÿè£…: `src/crawler/browser_provider.py`, `src/crawler/playwright_provider.py`, `src/crawler/undetected_provider.py`
- å½±éŸ¿ç¯„å›²: `src/crawler/fetcher.py`

#### 17.1.4 NotificationProvideræŠ½è±¡åŒ– âœ…
- [x] `NotificationProvider` ãƒ—ãƒ­ãƒˆã‚³ãƒ«/ABCå®šç¾©
- [x] `NotificationResult`, `NotificationOptions`, `NotificationHealthStatus` ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹
- [x] `LinuxNotifyProvider` å®Ÿè£…ï¼ˆnotify-sendï¼‰
- [x] `WindowsToastProvider` å®Ÿè£…ï¼ˆPowerShell UWP Toastï¼‰
- [x] `WSLBridgeProvider` å®Ÿè£…ï¼ˆWSL-Windowsæ©‹æ¸¡ã—ï¼‰
- [x] `NotificationProviderRegistry` ãƒ—ãƒ­ãƒã‚¤ãƒ€ç™»éŒ²ãƒ»åˆ‡æ›¿ãƒ»ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿæ§‹
- [x] ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ è‡ªå‹•æ¤œå‡ºã¨åˆ‡æ›¿
- [x] æ—¢å­˜`InterventionManager.send_toast()`ã¨ã®å¾Œæ–¹äº’æ›æ€§ç¶­æŒ
- [x] **æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã®ç§»è¡Œå®Œäº†**: `notification.py`ãŒProviderå†…éƒ¨ä½¿ç”¨
- [x] ãƒ†ã‚¹ãƒˆ: 74ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ã€Â§7.1æº–æ‹ ï¼‰
- å®Ÿè£…: `src/utils/notification_provider.py`
- å½±éŸ¿ç¯„å›²: `src/utils/notification.py`

---

### 17.2 è¨­å®šãƒ»ãƒãƒªã‚·ãƒ¼ã®å¤–éƒ¨åŒ– ğŸŸ¡

ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸè¨­å®šã‚„ãƒãƒªã‚·ãƒ¼ã‚’å¤–éƒ¨è¨­å®šåŒ–ã—ã€ã‚³ãƒ¼ãƒ‰å¤‰æ›´ãªã—ã§èª¿æ•´å¯èƒ½ã«ã™ã‚‹ã€‚
**å®Œäº†åŸºæº–**: å¤–éƒ¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« + Managerå®Ÿè£… + å…¨ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ç®‡æ‰€ã®ç½®æ›ã€‚

#### 17.2.1 ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒãƒªã‚·ãƒ¼å®Œå…¨å¤–éƒ¨åŒ– âœ…
- [x] `config/domains.yaml` ã¸ã®ä¸€å…ƒåŒ–ï¼ˆåŸºç›¤å®Ÿè£…ï¼‰
  - å®Ÿè£…: `src/utils/domain_policy.py` (DomainPolicyManager)
  - pydanticãƒ¢ãƒ‡ãƒ«ã«ã‚ˆã‚‹ã‚¹ã‚­ãƒ¼ãƒå®šç¾©ãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
  - allowlist/graylist/denylist/cloudflare_sites/internal_search_templatesã®çµ±åˆç®¡ç†
- [x] ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰å¯¾å¿œï¼ˆå†èµ·å‹•ä¸è¦ï¼‰
  - ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´æ¤œçŸ¥ï¼ˆwatch_intervalè¨­å®šå¯èƒ½ï¼‰
  - ãƒªãƒ­ãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿæ§‹
- [x] ãƒãƒªã‚·ãƒ¼ã‚¹ã‚­ãƒ¼ãƒã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å¼·åŒ–
  - TrustLevel/SkipReasonåˆ—æŒ™å‹
  - QPS/headful_ratioç­‰ã®ç¯„å›²ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
  - ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ï¼ˆglob/suffixå¯¾å¿œï¼‰
- [x] æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³/ã‚µãƒ¼ã‚­ãƒƒãƒˆãƒ–ãƒ¬ãƒ¼ã‚«è¨­å®šã®å¤–éƒ¨åŒ–
  - `config/domains.yaml`: search_engine_policy, policy_bounds ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¿½åŠ 
  - `SearchEnginePolicySchema`, `PolicyBoundsSchema` ã‚¹ã‚­ãƒ¼ãƒè¿½åŠ 
  - `get_search_engine_*()`, `get_circuit_breaker_*()`, `get_policy_bounds()` ãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ 
- [x] æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã®DomainPolicyManagerçµ±åˆï¼ˆå®Œäº†ï¼‰
  - `src/crawler/fetcher.py`: RateLimiter ãŒãƒ‰ãƒ¡ã‚¤ãƒ³åˆ¥ QPS ã‚’ Manager çµŒç”±ã§å–å¾—
  - `src/search/searxng.py`, `searxng_provider.py`: min_interval ã‚’ Manager ã‹ã‚‰å–å¾—
  - `src/crawler/site_search.py`: site_search_qps ã‚’ Manager ã‹ã‚‰å–å¾—
  - `src/utils/policy_engine.py`: DEFAULT_BOUNDS ã‚’é…å»¶ãƒ­ãƒ¼ãƒ‰åŒ–ã€config ã‹ã‚‰å–å¾—
  - `src/search/circuit_breaker.py`: cooldown_min/max ã‚’ Manager ã‹ã‚‰å–å¾—
- ãƒ†ã‚¹ãƒˆ: 88ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ã€Â§7.1æº–æ‹ ï¼‰

#### 17.2.2 æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³è¨­å®šã®å‹•çš„ç®¡ç† âœ…
- [x] `SearchEngineConfigManager` å®Ÿè£…ï¼ˆ`src/search/engine_config.py`ï¼‰
  - Pydanticã‚¹ã‚­ãƒ¼ãƒã«ã‚ˆã‚‹è¨­å®šãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
  - ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰å¯¾å¿œï¼ˆDomainPolicyManagerã¨åŒãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰
  - ã‚¨ãƒ³ã‚¸ãƒ³/ã‚«ãƒ†ã‚´ãƒª/æ¼”ç®—å­ãƒãƒƒãƒ”ãƒ³ã‚°/ç›´æ¥ã‚½ãƒ¼ã‚¹ã®ä¸€å…ƒç®¡ç†
- [x] ã‚¨ãƒ³ã‚¸ãƒ³è¿½åŠ /å‰Šé™¤ã®YAMLå¤‰æ›´ã®ã¿å¯¾å¿œ
  - `config/engines.yaml` ã® engines ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§å®Œçµ
  - ã‚³ãƒ¼ãƒ‰å¤‰æ›´ä¸è¦ã§ã‚¨ãƒ³ã‚¸ãƒ³è¿½åŠ /å‰Šé™¤/è¨­å®šå¤‰æ›´ãŒå¯èƒ½
- [x] ã‚¨ãƒ³ã‚¸ãƒ³æ­£è¦åŒ–ãƒ«ãƒ¼ãƒ«ï¼ˆoperator_mappingï¼‰ã®å¤–éƒ¨åŒ–
  - `config/engines.yaml` ã® operator_mapping ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§å®šç¾©
  - ã‚¨ãƒ³ã‚¸ãƒ³åˆ¥ã®æ¼”ç®—å­æ§‹æ–‡ã‚’è¨­å®šå¯èƒ½
- [x] æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã®ç§»è¡Œå®Œäº†
  - `QueryOperatorProcessor`: SearchEngineConfigManagerçµŒç”±ã§operator_mappingå–å¾—
  - `SearXNGProvider`: SearchEngineConfigManagerçµŒç”±ã§host/timeoutå–å¾—
  - `src/search/__init__.py`: ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆè¿½åŠ 
- [x] ãƒ†ã‚¹ãƒˆ: 50ä»¶ï¼ˆå…¨ãƒ‘ã‚¹ã€Â§7.1æº–æ‹ ï¼‰

#### 17.2.3 ã‚¹ãƒ†ãƒ«ã‚¹è¨­å®šã®å¤–éƒ¨åŒ–
- [ ] User-Agent/ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã®YAMLç®¡ç†
- [ ] æŒ‡ç´‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«åŒ–

---

### 17.3 æ±ç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æŠ½å‡º ğŸŸ¡

ç‰¹å®šç”¨é€”ã«å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ±ç”¨åŒ–ã—ã€å†åˆ©ç”¨å¯èƒ½ã«ã™ã‚‹ã€‚
**å®Œäº†åŸºæº–**: æ±ç”¨å®Ÿè£… + æ—¢å­˜ã®å€‹åˆ¥å®Ÿè£…ã‚’æ±ç”¨ç‰ˆã«ç½®æ›ã€‚

#### 17.3.1 æ±ç”¨ã‚µãƒ¼ã‚­ãƒƒãƒˆãƒ–ãƒ¬ãƒ¼ã‚«
- [ ] `CircuitBreaker[T]` ã‚¸ã‚§ãƒãƒªãƒƒã‚¯å®Ÿè£…
  - ç¾çŠ¶: ã‚¨ãƒ³ã‚¸ãƒ³å°‚ç”¨ã®å®Ÿè£…
- [ ] ä»»æ„ã®ãƒªã‚½ãƒ¼ã‚¹ï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³ã€APIã€å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ï¼‰ã«é©ç”¨å¯èƒ½
- [ ] çŠ¶æ…‹é·ç§»ã®ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ

#### 17.3.2 æ±ç”¨ãƒªãƒˆãƒ©ã‚¤/ãƒãƒƒã‚¯ã‚ªãƒ•
- [ ] `RetryPolicy` è¨­å®šã‚¯ãƒ©ã‚¹
- [ ] ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿/ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£å½¢å¼
- [ ] ç¾è¡Œã®å€‹åˆ¥å®Ÿè£…ã‚’çµ±ä¸€

#### 17.3.3 æ±ç”¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ¬ã‚¤ãƒ¤
- [ ] `CacheProvider` æŠ½è±¡åŒ–
- [ ] TTL/LRU/ã‚µã‚¤ã‚ºåˆ¶é™ã®çµ±ä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
- [ ] ç¾è¡Œã®å€‹åˆ¥ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆSERPã€Fetchã€Embedï¼‰ã‚’çµ±åˆ

---

### 17.4 ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ”¹å–„ ğŸŸ¢

å°†æ¥ã®å¤§è¦æ¨¡æ‹¡å¼µã«å‚™ãˆãŸæ§‹é€ çš„æ”¹å–„ï¼ˆå„ªå…ˆåº¦ä½ï¼‰ã€‚

#### 17.4.1 æˆ¦ç•¥ãƒ‘ã‚¿ãƒ¼ãƒ³ã®é©ç”¨
- [ ] å–å¾—æˆ¦ç•¥ï¼ˆHTTP/Browser/Torï¼‰ã®StrategyåŒ–
- [ ] æŠ½å‡ºæˆ¦ç•¥ï¼ˆHTML/PDF/OCRï¼‰ã®StrategyåŒ–
- [ ] ç¾çŠ¶ã®æ¡ä»¶åˆ†å²ã‚’æˆ¦ç•¥ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ç½®æ›

#### 17.4.2 ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- [ ] å†…éƒ¨ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¹å°å…¥
- [ ] ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å‡¦ç†ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒ™ãƒ¼ã‚¹åŒ–
- [ ] ãƒ—ãƒ©ã‚°ã‚¤ãƒ³/ãƒ•ãƒƒã‚¯æ©Ÿæ§‹ã®åŸºç›¤

#### 17.4.3 ä¾å­˜æ€§æ³¨å…¥ã®å¼·åŒ–
- [ ] DIã‚³ãƒ³ãƒ†ãƒŠå°å…¥ï¼ˆä¾‹: `dependency-injector`ï¼‰
- [ ] ãƒ†ã‚¹ãƒˆæ™‚ã®ãƒ¢ãƒƒã‚¯æ³¨å…¥ç°¡æ˜“åŒ–
- [ ] ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“çµåˆåº¦ã®ä½æ¸›

---

### 17.5 å¤–éƒ¨ä¾å­˜ã®è¿½å¾“å®¹æ˜“åŒ– ğŸŸ¡

å£Šã‚Œã‚„ã™ã„å¤–éƒ¨ä¾å­˜ã¸ã®å¯¾ç­–ã‚’æ§‹é€ åŒ–ã™ã‚‹ã€‚

#### 17.5.1 ãƒãƒ¼ã‚¸ãƒ§ãƒ³è¿½å¾“ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- [ ] Chrome/Chromium ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ¤œå‡ºã¨äº’æ›æ€§ãƒã‚§ãƒƒã‚¯
- [ ] curl_cffi impersonateè¨­å®šã®è‡ªå‹•æ›´æ–°æ¤œçŸ¥
- [ ] SearXNGã‚¨ãƒ³ã‚¸ãƒ³è¨­å®šã®driftæ¤œå‡º

#### 17.5.2 äº’æ›æ€§ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ
- [ ] å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹äº’æ›æ€§ã®å®šæœŸãƒã‚§ãƒƒã‚¯ãƒ†ã‚¹ãƒˆ
- [ ] Cloudflareå¯¾ç­–ã®å‹•ä½œç¢ºèªãƒ†ã‚¹ãƒˆ
- [ ] ãƒ¢ãƒ‡ãƒ«å‡ºåŠ›å½¢å¼ã®äº’æ›æ€§ãƒ†ã‚¹ãƒˆ

### 17.6 ãƒ†ã‚¹ãƒˆã®å“è³ªå‘ä¸Š ğŸŸ¡

ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆãŒå“è³ªåŸºæº–ã‚’æº€ãŸã™ã€æ„å‘³ã®ã‚ã‚‹ãƒ†ã‚¹ãƒˆã«ãªã£ã¦ã„ã‚‹ã‹æ¤œè¨¼ã—ã€ãƒ†ã‚¹ãƒˆã§ã‚«ãƒãƒ¼ã—ã¦ã„ãªã„é‡è¦ãªæ©Ÿèƒ½ãŒã‚ã‚‹ã‹ç¢ºã‹ã‚ã€ä¿®æ­£ã™ã‚‹ã€‚

#### 17.6.1 è¨ˆç”»ç­–å®š
- [ ] ãƒ†ã‚¹ãƒˆã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°è¨ˆç”»ã‚’ç­–å®šã™ã‚‹

---

## é–‹ç™ºç’°å¢ƒ

### èµ·å‹•æ–¹æ³•
```bash
# å…¨ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•
./scripts/dev.sh up

# é–‹ç™ºã‚·ã‚§ãƒ«
./scripts/dev.sh shell

# ãƒ­ã‚°ç¢ºèª
./scripts/dev.sh logs

# åœæ­¢
./scripts/dev.sh down
```

### ã‚³ãƒ³ãƒ†ãƒŠæ§‹æˆ
- `lancet` - ãƒ¡ã‚¤ãƒ³é–‹ç™ºã‚³ãƒ³ãƒ†ãƒŠ
- `lancet-searxng` - SearXNGæ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³
- `lancet-tor` - Torãƒ—ãƒ­ã‚­ã‚·
- `lancet-ollama` - ãƒ­ãƒ¼ã‚«ãƒ«LLM (GPUå¯¾å¿œ)

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
```bash
# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆdevã‚³ãƒ³ãƒ†ãƒŠå†…ã§å®Ÿè¡Œï¼‰
podman exec lancet pytest tests/

# ç°¡æ½”ãªå‡ºåŠ›
podman exec lancet pytest tests/ --tb=no -q

# ç‰¹å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿
podman exec lancet pytest tests/test_robots.py -v

# ãƒ†ã‚¹ãƒˆåé›†ã®ã¿ï¼ˆdry-runï¼‰
podman exec lancet pytest tests/ --co -q
```

**æ³¨æ„**:
- ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã¯ãªãå¿…ãš `podman exec lancet` çµŒç”±ã§å®Ÿè¡Œã™ã‚‹
- å…¨1986ä»¶ï¼ˆãƒ¦ãƒ‹ãƒƒãƒˆ + çµ±åˆï¼‰ã€ç´„31ç§’ã§å®Œäº†
- IDEé€£æºãƒ„ãƒ¼ãƒ«ã‹ã‚‰ã®å®Ÿè¡Œã¯å‡ºåŠ›ãƒãƒƒãƒ•ã‚¡ãƒªãƒ³ã‚°ã§çµæœå–å¾—ã«å¤±æ•—ã™ã‚‹å ´åˆã‚ã‚Š
  â†’ ãƒ•ã‚¡ã‚¤ãƒ«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆæ¨å¥¨: `podman exec lancet pytest tests/ > /tmp/result.txt`

### å¤–éƒ¨ä¾å­˜
- Ollama (Podmanã‚³ãƒ³ãƒ†ãƒŠã§èµ·å‹•ã€GPUãƒ‘ã‚¹ã‚¹ãƒ«ãƒ¼)
- Chrome (Windowså´ã§èµ·å‹•ã€ãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ãƒãƒƒã‚°)
- nvidia-container-toolkit (GPUä½¿ç”¨æ™‚ã«å¿…è¦)

---

## æ³¨æ„äº‹é …

### æŠ€è¡“çš„åˆ¶ç´„
- VRAMâ‰¤8GBç¶­æŒï¼ˆRTX 4060 Laptopï¼‰
- WSL2ãƒ¡ãƒ¢ãƒª32GBå†…ã§å‹•ä½œ
- å•†ç”¨API/æœ‰æ–™ã‚µãƒ¼ãƒ“ã‚¹ä½¿ç”¨ç¦æ­¢

### ãƒªã‚¹ã‚¯è»½æ¸›
- Cloudflare/Turnstile: æ‰‹å‹•èª˜å°UXï¼‹ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³/ã‚¹ã‚­ãƒƒãƒ—è‡ªå‹•åŒ–
- VRAMåœ§è¿«: ãƒã‚¤ã‚¯ãƒ­ãƒãƒƒãƒ/å€™è£œä¸Šé™è‡ªå‹•èª¿æ•´
