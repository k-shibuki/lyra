---
description: "Creating git commits: Conventional Commits format and message structure"
alwaysApply: false
---
# Git Commit Message Conventions

## Positioning (Separation of Policy and Procedure)

- This file defines **policy (mandatory requirements)** for commit messages.
- Specific procedures (non-interactive `git add` / `git commit`, etc.) are documented in `@.cursor/commands/commit.md`.
- This rule is based on Conventional Commits for commit message conventions.
- While following Conventional Commits for basic formats like `Prefix` and `BREAKING CHANGE`, this repository adds guidelines such as `language` specification and bullet-point body text.
- When reusing in other projects, adjust `language` and Prefix lists according to each project's policy.

## Language Specification

- In this rule file, `language` refers to the logical name representing the language used in commit messages.
- `language = "en"`
- Summary and body should generally be written in the language specified by `language`.

## Basic Format (Required)

```
<Prefix>: <Summary (imperative mood, concise)>

- Change item 1 (bullet point)
- Change item 2 (bullet point)
- ...

Refs: #<Issue number> (optional)
BREAKING CHANGE: <content> (optional)
```

## Prefix (Type)

Prefix corresponds to `type` in Conventional Commits, using lowercase English words.

- feat: New feature addition
- fix: Bug fix
- refactor: Refactoring (no behavior change)
- perf: Performance improvement
- test: Test addition/modification
- docs: Documentation update
- build: Build/dependency changes
- ci: CI-related changes
- chore: Miscellaneous (tool settings, scripts, etc.)
- style: Style-only changes (unrelated to code logic)
- revert: Revert

Following Conventional Commits, `<Prefix>(scope):` format is also allowed as needed (e.g., `fix(translation): ...`).
- For detailed specifications, also refer to the [Conventional Commits](https://www.conventionalcommits.org/) official documentation.

## Summary (First Line)

- Write concisely in the language specified by `language`. No trailing period needed.
- Express what and why (if necessary) briefly.
- Target approximately 50 characters or less.

## Message Generation Principles

- Commit messages must always be generated after reviewing uncommitted diffs (`git diff` / `git diff --cached`, etc.), summarizing and listing the actual changes.
- Don't infer from issue titles or branch names alone; summarize the actual changes in the diff.
- When auto-generated by AI or scripts, similarly use uncommitted diffs as input.
- Bots and automation tools must also follow this rule, always generating messages based on diffs.

## Body (Bullet Points)

- List changes as bullet points starting with "- ".
- Write in the same language as the summary (the `language` defined in this rule file). Technical terms may be in English as needed.
- Where possible, add bullet points for "impact scope," "migration steps," "risks," "rollback methods," etc.

## Footer (Optional)

- Refs/Closes: Indicate related Issues or PRs with `Refs: #123` / `Closes: #123`.
- BREAKING CHANGE: Explicitly describe content if there are backward-incompatible changes (or use `!` notation in Prefix like `fix!: ...`).

## Examples

```
fix: Remove unnecessary debug log output

- Remove verbose log lines from user info retrieval process
- Reduce log volume while keeping necessary information

Refs: #123
```

```
refactor: Consolidate duplicate validation logic into common function

- Extract duplicate form input check code to utility function
- Remove duplicate logic from call sites, improving readability
- No behavior changes
```

## Prohibitions

- Writing summary only in a language different from specified `language`
- Ambiguous summaries that don't convey meaning (e.g., abstract expressions like "update", "fix bug")
- Body with only long text without bullet points, making content hard to grasp
- Commits that only disable or bypass static analysis/checks without actual improvements (e.g., config changes that only loosen check rules)
- Using interactive shell

## scope (Optional)
- Use module/directory name of the change target
- Can be omitted (when changes are wide-ranging)
