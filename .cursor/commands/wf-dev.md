# wf-dev

Lyra開発の統合ワークフロー。単機能コマンドを順次実行する。

## ワークフロー概要

```
┌─────────────────────────────────────────────────────────────┐
│  1. task-select    タスク選定・ブランチ作成                    │
│         ↓                                                    │
│  2. implement      実装作業                                   │
│         ↓                                                    │
│  3. test-create    テストコード作成                            │
│         ↓                                                    │
│  4. test-review    テスト品質レビュー                          │
│         ↓                                                    │
│  5. quality-check  品質確認（lint/型）                         │
│         ↓                                                    │
│  6. regression-test 回帰テスト                                │
│         ↓                                                    │
│  7. commit         コミット作成                                │
│         ↓                                                    │
│  8. merge-complete マージ・完了報告                            │
│         ↓                                                    │
│  9. push           リモートにプッシュ                           │
└─────────────────────────────────────────────────────────────┘
         ↳ 中断時は suspend を実行
```

## 各フェーズで使用するコマンド

| フェーズ | コマンド | 説明 |
|---------|---------|------|
| タスク選定 | `/task-select` | 計画確認・タスク選定・ブランチ作成 |
| 実装 | `/implement` | 実装コード作成 |
| テスト作成 | `/test-create` | テスト観点表・テストコード作成 |
| テストレビュー | `/test-review` | テスト品質の検証・修正 |
| 品質確認 | `/quality-check` | lint/型エラー確認・修正 |
| 回帰テスト | `/regression-test` | 全テスト実行（非同期実行→ポーリングで完了確認） |
| コミット | `/commit` | コミットメッセージ作成・コミット |
| 完了 | `/merge-complete` | mainマージ・完了報告 |
| プッシュ | `/push` | mainブランチをリモートにプッシュ |
| 中断 | `/suspend` | 進捗記録・WIPコミット |

## 関連ルール（全フェーズ共通）
- コード実行時: @.cursor/rules/code-execution.mdc
- テスト関連: @.cursor/rules/test-strategy.mdc
- リファクタ関連: @.cursor/rules/refactoring.mdc
- git commit: @.cursor/rules/commit-message-format.mdc

## リファレンス
- スクリプト使い方: `/scripts-help`
- 実装計画: @docs/IMPLEMENTATION_PLAN.md
- 仕様: @docs/REQUIREMENTS.md

## 使い方

### フルワークフロー実行
このコマンドを実行すると、タスク選定から完了報告まで一連の流れを実行する。
各フェーズの完了後、次のフェーズに進むか確認する。

### 個別フェーズ実行
特定のフェーズのみ実行したい場合は、該当する単機能コマンドを直接呼び出す。

例:
- テストレビューのみ: `/test-review`
- 回帰テストのみ: `/regression-test`

## 完了条件チェックリスト
- [ ] タスク選定完了・ブランチ作成済み
- [ ] 実装コード完成
- [ ] テストコード完成
- [ ] テスト品質レビュー済み（test-strategy.mdc準拠）
- [ ] 品質確認済み（lint/型エラーなし）
- [ ] 回帰テストパス
- [ ] コミット完了
- [ ] mainマージ完了
- [ ] 実装計画書更新済み
- [ ] リモートにプッシュ完了